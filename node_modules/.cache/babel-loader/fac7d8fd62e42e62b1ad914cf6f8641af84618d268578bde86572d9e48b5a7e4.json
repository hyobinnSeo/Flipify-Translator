{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\stork\\\\Desktop\\\\Coding\\\\Flipify-Translator\\\\src\\\\TranslatorApp.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$(),\n  _s6 = $RefreshSig$(),\n  _s7 = $RefreshSig$(),\n  _s8 = $RefreshSig$(),\n  _s9 = $RefreshSig$();\nimport React, { useState, useRef, useCallback, useEffect } from 'react';\nimport { X, FileText, Clipboard, ClipboardCheck, ClipboardCopy, MenuIcon, Settings, Volume2, History, Trash2, BookmarkIcon, Search, Folder, Check, ChevronLeft, ChevronRight, ArrowLeftRight, AlertTriangle, ChevronDown } from 'lucide-react';\nimport { Helmet } from 'react-helmet';\nimport { Navigate } from 'react-router-dom';\nimport { MODELS, LANGUAGE_NAMES, TONES, LANGUAGE_VOICE_MAPPING, VOICE_OPTIONS, DEFAULT_INSTRUCTIONS, AVAILABLE_MODELS, MAX_HISTORY_ITEMS, MAX_SAVED_TRANSLATIONS, getToneInstructions, APP_VERSION, MIN_SECURE_VERSION } from './constants/index.js';\nimport SettingsDialog from './components/dialogs/SettingsDialog.js';\n\n// History loading function - should respect the saveHistory setting\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst loadHistory = saveHistoryEnabled => {\n  try {\n    // Only load history if the feature is enabled\n    if (saveHistoryEnabled) {\n      return JSON.parse(localStorage.getItem('translationHistory')) || [];\n    }\n    return [];\n  } catch {\n    return [];\n  }\n};\n\n// History saving function - should respect the saveHistory setting\nconst saveHistoryToStorage = (history, saveHistoryEnabled) => {\n  if (saveHistoryEnabled) {\n    localStorage.setItem('translationHistory', JSON.stringify(history));\n  }\n};\nconst loadSavedTranslations = () => {\n  try {\n    return JSON.parse(localStorage.getItem('savedTranslations')) || [];\n  } catch {\n    return [];\n  }\n};\nconst saveSavedTranslations = translations => {\n  localStorage.setItem('savedTranslations', JSON.stringify(translations));\n};\n\n// Components\nconst Alert = ({\n  children\n}) => /*#__PURE__*/_jsxDEV(\"div\", {\n  className: \"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\",\n  role: \"alert\",\n  children: /*#__PURE__*/_jsxDEV(\"span\", {\n    className: \"block sm:inline\",\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 9\n  }, this)\n}, void 0, false, {\n  fileName: _jsxFileName,\n  lineNumber: 75,\n  columnNumber: 5\n}, this);\n_c = Alert;\nconst LanguageSelector = ({\n  sourceLang,\n  targetLang,\n  onSourceChange,\n  onTargetChange,\n  inputText,\n  translatedText,\n  onInputTextChange,\n  onTranslatedTextChange,\n  onResetTranslations\n}) => {\n  const languages = [{\n    code: 'auto',\n    name: 'Auto Detect'\n  }, {\n    code: 'en',\n    name: 'English'\n  }, {\n    code: 'fr',\n    name: 'French / Français'\n  }, {\n    code: 'es',\n    name: 'Spanish / Español'\n  }, {\n    code: 'it',\n    name: 'Italian / Italiano'\n  }, {\n    code: 'de',\n    name: 'German / Deutsch'\n  }, {\n    code: 'pt',\n    name: 'Brazilian Portuguese / Português'\n  }, {\n    code: 'ja',\n    name: 'Japanese / 日本語'\n  }, {\n    code: 'ko',\n    name: 'Korean / 한국어'\n  }, {\n    code: 'zh',\n    name: 'Simplified Chinese / 简体中文'\n  }, {\n    code: 'ar',\n    name: 'Arabic / العربية'\n  }];\n  const switchLanguages = () => {\n    // Basic language swap\n    onSourceChange(targetLang);\n    onTargetChange(sourceLang);\n\n    // Swap text content\n    onInputTextChange(translatedText);\n    onTranslatedTextChange(inputText);\n\n    // Reset translations\n    onResetTranslations();\n  };\n  const isAutoDetect = sourceLang === 'auto';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex items-center justify-between gap-2 mt-4 mb-2\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        value: sourceLang,\n        onChange: e => onSourceChange(e.target.value),\n        className: \"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-gray-500\",\n        dir: sourceLang === 'ar' ? 'rtl' : 'ltr',\n        children: languages.map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: lang.name\n        }, lang.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: switchLanguages,\n      disabled: isAutoDetect,\n      className: `p-2 rounded-full ${isAutoDetect ? 'text-gray-300 cursor-not-allowed' : 'hover:bg-gray-100 text-gray-600'}`,\n      title: isAutoDetect ? \"Language swap disabled during auto-detection\" : \"Switch languages\",\n      children: /*#__PURE__*/_jsxDEV(ArrowLeftRight, {\n        className: \"w-5 h-5\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1\",\n      children: /*#__PURE__*/_jsxDEV(\"select\", {\n        value: targetLang,\n        onChange: e => onTargetChange(e.target.value),\n        className: \"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-gray-500\",\n        dir: targetLang === 'ar' ? 'rtl' : 'ltr',\n        children: languages.filter(lang => lang.code !== 'auto').map(lang => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: lang.code,\n          children: lang.name\n        }, lang.code, false, {\n          fileName: _jsxFileName,\n          lineNumber: 157,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 149,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 121,\n    columnNumber: 9\n  }, this);\n};\n_c2 = LanguageSelector;\nconst ToneSelector = ({\n  selectedTone,\n  onToneChange,\n  selectedModel\n}) => {\n  _s();\n  var _modelTones$find;\n  const [showToneSelector, setShowToneSelector] = useState(false);\n  const containerRef = useRef(null);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (containerRef.current && !containerRef.current.contains(event.target)) {\n        setShowToneSelector(false);\n      }\n    };\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, []);\n\n  // Get the tone list for the selected model\n  const modelTones = TONES[selectedModel] || TONES[MODELS.GEMINI];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative\",\n    ref: containerRef,\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => setShowToneSelector(!showToneSelector),\n      className: \"flex items-center gap-2 px-2 py-2 text-gray-600 hover:text-gray-800 \\r hover:bg-gray-50 rounded-lg transition-colors\",\n      children: [/*#__PURE__*/_jsxDEV(Settings, {\n        className: \"w-4 h-4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\"Tone: \", (_modelTones$find = modelTones.find(t => t.id === selectedTone)) === null || _modelTones$find === void 0 ? void 0 : _modelTones$find.name]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 13\n    }, this), showToneSelector && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-50\",\n      children: modelTones.map(tone => /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => {\n          onToneChange(tone.id);\n          setShowToneSelector(false);\n        },\n        className: `w-full px-4 py-2 text-left hover:bg-gray-50 ${selectedTone === tone.id ? 'bg-gray-50' : ''}`,\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"font-medium\",\n          children: tone.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 29\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-sm text-gray-500\",\n          children: tone.description\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 209,\n          columnNumber: 29\n        }, this)]\n      }, tone.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 197,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 186,\n    columnNumber: 9\n  }, this);\n};\n_s(ToneSelector, \"/mDcdxE8RgniPnh590PKiaE3q2s=\");\n_c3 = ToneSelector;\nconst saveVoiceSettings = settings => {\n  localStorage.setItem('voiceSettings', JSON.stringify(settings));\n};\nconst VoiceSettingsModal = ({\n  isOpen,\n  onClose,\n  selectedVoices,\n  onVoiceChange\n}) => {\n  _s2();\n  const [localVoices, setLocalVoices] = useState(selectedVoices);\n\n  // Reset to defaults\n  const handleReset = () => {\n    const defaultVoices = {\n      'en': 'en-US-JennyNeural',\n      'ko': 'ko-KR-SunHiNeural',\n      'ja': 'ja-JP-NanamiNeural',\n      'zh': 'zh-CN-XiaoxiaoNeural',\n      'fr': 'fr-FR-DeniseNeural',\n      'es': 'es-ES-ElviraNeural',\n      'de': 'de-DE-KatjaNeural',\n      'it': 'it-IT-ElsaNeural',\n      'pt': 'pt-BR-FranciscaNeural',\n      'ar': 'ar-SA-ZariyahNeural'\n    };\n    setLocalVoices(defaultVoices);\n  };\n\n  // Save changes\n  const handleSave = () => {\n    onVoiceChange(localVoices);\n    onClose();\n  };\n  return /*#__PURE__*/_jsxDEV(DialogWrapper, {\n    isOpen: isOpen,\n    onClose: onClose,\n    className: \"w-full max-w-2xl max-h-[90vh] flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink-0 p-6 border-b\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between items-center\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"Voice Settings\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 253,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-500 mt-1\",\n            children: \"Select preferred voices for each language\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 254,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 252,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"text-gray-500 hover:text-gray-700\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 257,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 250,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-6\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-6\",\n        children: Object.entries(VOICE_OPTIONS).map(([lang, voices]) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [LANGUAGE_NAMES[lang], \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            value: localVoices[lang] || '',\n            onChange: e => setLocalVoices(prev => ({\n              ...prev,\n              [lang]: e.target.value\n            })),\n            className: \"w-full p-2 border rounded-lg focus:ring-2 focus:ring-gray-500\",\n            children: voices.map(voice => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: voice.id,\n              children: voice.name\n            }, voice.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 278,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 29\n          }, this)]\n        }, lang, true, {\n          fileName: _jsxFileName,\n          lineNumber: 265,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-shrink-0 p-6 border-t bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleReset,\n          className: \"px-4 py-2 text-navy-500 hover:text-navy-600\",\n          children: \"Reset to Default\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSave,\n          className: \"px-4 py-2 bg-navy-500 text-white rounded-lg hover:bg-navy-600\",\n          children: \"Done\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 289,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 288,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 249,\n    columnNumber: 9\n  }, this);\n};\n_s2(VoiceSettingsModal, \"zGYsQ+4SPY0vLmLSeEC9Z4JpfoM=\");\n_c4 = VoiceSettingsModal;\nconst TextArea = ({\n  value,\n  onChange,\n  placeholder,\n  readOnly = false,\n  className = '',\n  showSpeaker = false,\n  maxLength,\n  onClear,\n  onTouchStart,\n  onTouchMove,\n  onTouchEnd,\n  translations = [],\n  currentIndex = 0,\n  onPrevious,\n  onNext,\n  isOutput = false,\n  language = 'en',\n  selectedVoice,\n  isFixedSize = false\n}) => {\n  _s3();\n  const textareaRef = useRef(null);\n  const resizeObserverRef = useRef(null);\n  const adjustmentTimeoutRef = useRef(null);\n  const audioRef = useRef(new Audio());\n  const [isSpeaking, setIsSpeaking] = useState(false);\n\n  // Azure TTS configuration\n  const subscriptionKey = process.env.REACT_APP_AZURE_TTS_KEY;\n  const region = process.env.REACT_APP_AZURE_REGION;\n  const baseUrl = `https://${region}.tts.speech.microsoft.com/cognitiveservices/v1`;\n  const getAccessToken = useCallback(async () => {\n    try {\n      const response = await fetch(`https://${region}.api.cognitive.microsoft.com/sts/v1.0/issueToken`, {\n        method: 'POST',\n        headers: {\n          'Ocp-Apim-Subscription-Key': subscriptionKey\n        }\n      });\n      if (!response.ok) throw new Error('Failed to get access token');\n      return await response.text();\n    } catch (error) {\n      console.error('Error getting Azure access token:', error);\n      throw error;\n    }\n  }, [region, subscriptionKey]); // Added missing dependencies\n\n  const escapeXMLText = useCallback(text => {\n    return text.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\"/g, '&quot;').replace(/'/g, '&apos;');\n  }, []);\n  const handleSpeak = useCallback(async () => {\n    if (!value || !subscriptionKey || !region) return;\n    if (isSpeaking) {\n      audioRef.current.pause();\n      audioRef.current.currentTime = 0;\n      setIsSpeaking(false);\n      return;\n    }\n    try {\n      const accessToken = await getAccessToken();\n      const voice = selectedVoice || LANGUAGE_VOICE_MAPPING[language];\n      const langCode = voice.split('-').slice(0, 2).join('-');\n      const escapedText = escapeXMLText(value);\n      const ssml = `\n                <speak version='1.0' xml:lang='${langCode}'>\n                    <voice name='${voice}'>\n                        <prosody rate=\"0.9\">\n                            ${escapedText}\n                        </prosody>\n                    </voice>\n                </speak>\n            `;\n      const response = await fetch(baseUrl, {\n        method: 'POST',\n        headers: {\n          'Authorization': `Bearer ${accessToken}`,\n          'Content-Type': 'application/ssml+xml',\n          'X-Microsoft-OutputFormat': 'audio-24khz-160kbitrate-mono-mp3',\n          'User-Agent': 'HoochooTranslator'\n        },\n        body: ssml\n      });\n      if (!response.ok) {\n        throw new Error(`TTS request failed: ${response.status} ${response.statusText}`);\n      }\n      const audioBlob = await response.blob();\n      if (audioRef.current.src.startsWith('blob:')) {\n        URL.revokeObjectURL(audioRef.current.src);\n      }\n      const audioUrl = URL.createObjectURL(audioBlob);\n      audioRef.current.onended = () => {\n        setIsSpeaking(false);\n        URL.revokeObjectURL(audioUrl);\n      };\n      audioRef.current.onerror = e => {\n        console.error('Audio playback error:', e);\n        setIsSpeaking(false);\n        URL.revokeObjectURL(audioUrl);\n      };\n      audioRef.current.src = audioUrl;\n      const playPromise = audioRef.current.play();\n      if (playPromise !== undefined) {\n        playPromise.then(() => {\n          setIsSpeaking(true);\n        }).catch(error => {\n          console.error('Playback error:', error);\n          setIsSpeaking(false);\n          URL.revokeObjectURL(audioUrl);\n        });\n      }\n    } catch (error) {\n      console.error('Azure TTS error:', error);\n      setIsSpeaking(false);\n    }\n  }, [value, subscriptionKey, region, isSpeaking, baseUrl, language, selectedVoice, getAccessToken, escapeXMLText]);\n\n  // Cleanup audio on unmount\n  useEffect(() => {\n    const currentAudioRef = audioRef.current; // Store ref value\n\n    return () => {\n      if (currentAudioRef) {\n        currentAudioRef.pause();\n        currentAudioRef.src = '';\n      }\n    };\n  }, []);\n\n  // Height adjustment logic\n  const adjustHeight = useCallback(() => {\n    if (!textareaRef.current || isFixedSize) return; // Don't adjust height if fixed size\n\n    if (adjustmentTimeoutRef.current) {\n      cancelAnimationFrame(adjustmentTimeoutRef.current);\n    }\n    adjustmentTimeoutRef.current = requestAnimationFrame(() => {\n      const textarea = textareaRef.current;\n      if (!textarea) return;\n      const scrollPos = window.scrollY;\n      textarea.style.height = 'auto';\n      const newHeight = Math.max(192, textarea.scrollHeight);\n      textarea.style.height = `${newHeight}px`;\n      textarea.style.overflowY = textarea.scrollHeight <= newHeight ? 'hidden' : 'auto';\n      window.scrollTo(0, scrollPos);\n    });\n  }, [isFixedSize]);\n\n  // Initialize ResizeObserver\n  useEffect(() => {\n    if (!textareaRef.current) return;\n    if (resizeObserverRef.current) {\n      resizeObserverRef.current.disconnect();\n    }\n    resizeObserverRef.current = new ResizeObserver(() => {\n      requestAnimationFrame(adjustHeight);\n    });\n    resizeObserverRef.current.observe(textareaRef.current);\n    return () => {\n      if (resizeObserverRef.current) {\n        resizeObserverRef.current.disconnect();\n      }\n      if (adjustmentTimeoutRef.current) {\n        cancelAnimationFrame(adjustmentTimeoutRef.current);\n      }\n    };\n  }, [adjustHeight]);\n  useEffect(() => {\n    adjustHeight();\n  }, [value, adjustHeight]);\n\n  // Handle input/paste events\n  const handleInput = e => {\n    if (readOnly) return;\n    const newValue = e.target.value;\n    if (!maxLength || newValue.length <= maxLength) {\n      onChange(e);\n    }\n  };\n\n  // Handle paste event\n  const handlePaste = e => {\n    if (readOnly) return;\n    const pastedText = e.clipboardData.getData('text');\n    const availableSpace = maxLength - value.length + (e.target.selectionEnd - e.target.selectionStart);\n    if (pastedText.length > availableSpace) {\n      e.preventDefault();\n      const newText = value.slice(0, e.target.selectionStart) + pastedText.slice(0, availableSpace) + value.slice(e.target.selectionEnd);\n      onChange({\n        target: {\n          value: newText\n        }\n      });\n    }\n  };\n\n  // Handle paste from clipboard button\n  const handlePasteFromClipboard = async () => {\n    try {\n      const text = await navigator.clipboard.readText();\n      const event = {\n        target: {\n          value: text.slice(0, maxLength || text.length)\n        }\n      };\n      handleInput(event);\n    } catch (err) {\n      console.error('Failed to read clipboard:', err);\n    }\n  };\n  const shouldShowSpeaker = showSpeaker && value && language !== 'auto';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"relative flex-1\",\n    style: {\n      minWidth: 0\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"relative rounded-lg border focus-within:ring-2 focus-within:ring-gray-600 focus-within:border-navy-600 transition-all bg-white overflow-hidden\",\n      children: [value && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClear,\n        className: \"absolute top-2 right-4 p-1.5 text-gray-400 hover:text-gray-600 \\r hover:bg-gray-100 rounded-full transition-colors z-20\",\n        title: \"Clear text\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 565,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 21\n      }, this), !isOutput && !readOnly && !value && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handlePasteFromClipboard,\n        className: \"absolute top-2 right-4 px-3 py-1.5 text-gray-600 hover:text-gray-800 \\r hover:bg-gray-100 rounded-lg transition-colors z-20 flex items-center gap-2\",\n        title: \"Paste from clipboard\",\n        children: [/*#__PURE__*/_jsxDEV(Clipboard, {\n          className: \"h-4 w-4\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 577,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm font-medium\",\n          children: \"Paste\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 571,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative\",\n        children: [/*#__PURE__*/_jsxDEV(\"textarea\", {\n          ref: textareaRef,\n          value: value,\n          onChange: handleInput,\n          onPaste: handlePaste,\n          placeholder: placeholder,\n          readOnly: readOnly,\n          className: `w-full px-4 py-4 text-lg resize-none rounded-lg \n                        focus:outline-none border-0 bg-white\n                        ${readOnly ? 'bg-gray-50' : ''} ${className}`,\n          style: {\n            height: isFixedSize ? '12rem' : undefined,\n            // Fixed height when isFixedSize is true\n            minHeight: isFixedSize ? undefined : '12rem',\n            overflowY: isFixedSize ? 'auto' : undefined,\n            paddingBottom: translations.length > 0 ? '3.5rem' : '1rem',\n            paddingRight: value ? '3rem' : '5rem'\n          },\n          onTouchStart: onTouchStart,\n          onTouchMove: onTouchMove,\n          onTouchEnd: onTouchEnd\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 583,\n          columnNumber: 21\n        }, this), translations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"absolute bottom-0 left-0 right-0 h-12 bg-white border-t flex items-center justify-between px-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onPrevious,\n            className: `p-1.5 rounded-full hover:bg-gray-100 \n                                    ${currentIndex > 0 ? 'text-gray-500 hover:text-gray-700' : 'text-gray-300'}`,\n            disabled: currentIndex === 0,\n            children: /*#__PURE__*/_jsxDEV(ChevronLeft, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 614,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 608,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-gray-500\",\n            children: [currentIndex + 1, \"/\", translations.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onNext,\n            className: \"p-1.5 rounded-full hover:bg-gray-100 text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(ChevronRight, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 625,\n              columnNumber: 33\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 621,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 607,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 582,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 556,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"h-8 mt-1 mb-4 relative flex items-center justify-between px-2\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0\",\n        children: [shouldShowSpeaker && /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleSpeak,\n          className: `text-gray-500 hover:text-gray-700 ${isSpeaking ? 'text-navy-500' : ''}`,\n          title: isSpeaking ? \"Stop speaking\" : \"Text-to-speech\",\n          children: /*#__PURE__*/_jsxDEV(Volume2, {\n            className: `h-5 w-5 ${isSpeaking ? 'animate-pulse' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 641,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 636,\n          columnNumber: 25\n        }, this), showSpeaker && value && language === 'auto' && /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"text-sm text-gray-400 italic\",\n          children: \"TTS not available in auto-detect mode\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 645,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 634,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-shrink-0 text-sm text-gray-500\",\n        children: [value.length, !isOutput && maxLength && `/${maxLength}`]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 651,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 633,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 555,\n    columnNumber: 9\n  }, this);\n};\n\n// Reusable Dialog Wrapper Component\n_s3(TextArea, \"JLeVI3/QRQqZ8gDAOArnZNr394A=\");\n_c5 = TextArea;\nconst DialogWrapper = ({\n  isOpen,\n  onClose,\n  children,\n  className = ''\n}) => {\n  _s4();\n  React.useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    onClick: onClose,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `bg-white rounded-lg ${className}`,\n      onClick: e => e.stopPropagation(),\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 679,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 675,\n    columnNumber: 9\n  }, this);\n};\n_s4(DialogWrapper, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c6 = DialogWrapper;\nconst InstructionsModal = ({\n  isOpen,\n  onClose,\n  modelInstructions,\n  selectedModel,\n  setModelInstructions,\n  selectedTone\n}) => {\n  _s5();\n  var _currentModelTones$fi;\n  const [showToneDropdown, setShowToneDropdown] = useState(false);\n  const [selectedModelForInstructions, setSelectedModelForInstructions] = useState(selectedModel);\n  const [selectedToneInstructions, setSelectedToneInstructions] = useState(selectedTone);\n\n  // Update selected model and tone when the modal opens or selected model changes\n  useEffect(() => {\n    setSelectedModelForInstructions(selectedModel);\n    // Find a valid tone for the selected model\n    const modelTones = TONES[selectedModel] || TONES[MODELS.GEMINI];\n    const isCurrentToneValid = modelTones.find(t => t.id === selectedTone);\n    if (!isCurrentToneValid) {\n      var _modelTones$;\n      setSelectedToneInstructions(((_modelTones$ = modelTones[0]) === null || _modelTones$ === void 0 ? void 0 : _modelTones$.id) || 'standard');\n    } else {\n      setSelectedToneInstructions(selectedTone);\n    }\n  }, [selectedModel, selectedTone, isOpen]);\n  const handleModelChange = newModel => {\n    var _modelTones$2;\n    setSelectedModelForInstructions(newModel);\n    // Reset tone to first available tone for new model\n    const modelTones = TONES[newModel] || TONES[MODELS.GEMINI];\n    setSelectedToneInstructions(((_modelTones$2 = modelTones[0]) === null || _modelTones$2 === void 0 ? void 0 : _modelTones$2.id) || 'standard');\n  };\n  const handleReset = () => {\n    setModelInstructions({\n      ...modelInstructions,\n      [selectedModelForInstructions]: modelInstructions[selectedModelForInstructions]\n    });\n  };\n  if (!isOpen) return null;\n  const currentModelTones = TONES[selectedModelForInstructions] || TONES[MODELS.GEMINI];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-xl font-semibold\",\n              children: \"Instructions Settings\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 739,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-gray-500 mt-1\",\n              children: \"Configure translation instructions\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 740,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 738,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 743,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 742,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 737,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 736,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-6\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-6\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"AI Model:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 753,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedModelForInstructions,\n              onChange: e => handleModelChange(e.target.value),\n              className: \"w-full p-2 border rounded-lg focus:ring-2 focus:ring-gray-500\",\n              children: AVAILABLE_MODELS.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: model.id,\n                children: model.name\n              }, model.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 762,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 756,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 752,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700\",\n              children: \"Translation Tone:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 771,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"relative\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => setShowToneDropdown(!showToneDropdown),\n                className: \"w-full px-4 py-2 text-left border rounded-lg bg-white flex justify-between items-center hover:bg-gray-50\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  children: ((_currentModelTones$fi = currentModelTones.find(t => t.id === selectedToneInstructions)) === null || _currentModelTones$fi === void 0 ? void 0 : _currentModelTones$fi.name) || 'Standard'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 779,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(ChevronDown, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 782,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 19\n              }, this), showToneDropdown && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg\",\n                children: currentModelTones.map(tone => /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => {\n                    setSelectedToneInstructions(tone.id);\n                    setShowToneDropdown(false);\n                  },\n                  className: \"w-full px-4 py-2 text-left hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"font-medium\",\n                    children: tone.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 796,\n                    columnNumber: 27\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"text-sm text-gray-500\",\n                    children: tone.description\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 797,\n                    columnNumber: 27\n                  }, this)]\n                }, tone.id, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 788,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 786,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 770,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Pre-translation Instructions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 807,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: modelInstructions[selectedModelForInstructions]['pre-instruction'],\n              onChange: e => setModelInstructions({\n                ...modelInstructions,\n                [selectedModelForInstructions]: {\n                  ...modelInstructions[selectedModelForInstructions],\n                  'pre-instruction': e.target.value\n                }\n              }),\n              className: \"w-full h-32 p-2 border rounded-lg focus:ring-2 focus:ring-gray-500 resize-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 810,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 806,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Tone-specific Instructions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 825,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: modelInstructions[selectedModelForInstructions]['tone-instructions'][selectedToneInstructions],\n              onChange: e => setModelInstructions({\n                ...modelInstructions,\n                [selectedModelForInstructions]: {\n                  ...modelInstructions[selectedModelForInstructions],\n                  'tone-instructions': {\n                    ...modelInstructions[selectedModelForInstructions]['tone-instructions'],\n                    [selectedToneInstructions]: e.target.value\n                  }\n                }\n              }),\n              className: \"w-full h-32 p-2 border rounded-lg focus:ring-2 focus:ring-gray-500 resize-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 828,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 824,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Post-translation Instructions:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 846,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"textarea\", {\n              value: modelInstructions[selectedModelForInstructions]['post-instruction'],\n              onChange: e => setModelInstructions({\n                ...modelInstructions,\n                [selectedModelForInstructions]: {\n                  ...modelInstructions[selectedModelForInstructions],\n                  'post-instruction': e.target.value\n                }\n              }),\n              className: \"w-full h-32 p-2 border rounded-lg focus:ring-2 focus:ring-gray-500 resize-none\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 849,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 845,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 750,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 749,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-6 border-t bg-white\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleReset,\n            className: \"px-4 py-2 text-gray-600 hover:text-gray-800\",\n            children: \"Reset to Default\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 867,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\",\n            children: \"Done\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 873,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 866,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 865,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 734,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 733,\n    columnNumber: 7\n  }, this);\n};\n_s5(InstructionsModal, \"p1qbjwP/Oen0fO+rhP+06LuWE6M=\");\n_c7 = InstructionsModal;\nconst RequestLogViewer = ({\n  isOpen,\n  onClose,\n  requestLog\n}) => {\n  return /*#__PURE__*/_jsxDEV(DialogWrapper, {\n    isOpen: isOpen,\n    onClose: onClose,\n    className: \"w-full max-w-2xl max-h-[80vh] flex flex-col\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-4 border-b flex items-center justify-between\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-xl font-semibold\",\n        children: \"Last API Request\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 890,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"text-gray-500 hover:text-gray-700 transition-colors\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 895,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 891,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 889,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-y-auto p-4\",\n      children: requestLog ? /*#__PURE__*/_jsxDEV(\"pre\", {\n        className: \"whitespace-pre-wrap bg-gray-50 p-4 rounded-lg text-sm font-mono\",\n        children: JSON.stringify(requestLog, null, 2)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 901,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-gray-500 py-8\",\n        children: [/*#__PURE__*/_jsxDEV(FileText, {\n          className: \"h-12 w-12 mx-auto mb-3 text-gray-400\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 906,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No request log available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 907,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 905,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 899,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 888,\n    columnNumber: 9\n  }, this);\n};\n_c8 = RequestLogViewer;\nconst Sidebar = ({\n  isOpen,\n  onClose,\n  onOpenInstructions,\n  onOpenSaved,\n  onOpenRequestLog,\n  onOpenHistory,\n  onOpenVoiceSettings,\n  onOpenSettings,\n  isFixedSize,\n  onToggleFixedSize\n}) => {\n  _s6();\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed inset-0 bg-black transition-opacity duration-300 z-20 \n                ${isOpen ? 'opacity-50' : 'opacity-0 pointer-events-none'}`,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 940,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed left-0 top-0 h-full w-64 bg-white shadow-lg transform \n                transition-transform duration-300 ease-in-out z-30 flex flex-col overflow-hidden\n                ${isOpen ? 'translate-x-0' : '-translate-x-full'}`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex-shrink-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"Menu\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 954,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 956,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 955,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 953,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 952,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto overscroll-contain p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between px-4 py-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-sm\",\n              children: \"Fixed Size Text Areas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 965,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                onToggleFixedSize();\n              },\n              className: `relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${isFixedSize ? 'bg-navy-500' : 'bg-gray-200'}`,\n              children: /*#__PURE__*/_jsxDEV(\"span\", {\n                className: `inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${isFixedSize ? 'translate-x-6' : 'translate-x-1'}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 973,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 966,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 964,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onOpenHistory();\n              onClose();\n            },\n            className: \"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(History, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 988,\n              columnNumber: 29\n            }, this), \"Translation History\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 981,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onOpenSaved();\n              onClose();\n            },\n            className: \"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(BookmarkIcon, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 999,\n              columnNumber: 29\n            }, this), \"Saved Translations\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 992,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onOpenVoiceSettings();\n              onClose();\n            },\n            className: \"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(Volume2, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1010,\n              columnNumber: 29\n            }, this), \"Voice Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1003,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onOpenInstructions();\n              onClose();\n            },\n            className: \"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 29\n            }, this), \"Instructions\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1014,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onOpenRequestLog();\n              onClose();\n            },\n            className: \"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(FileText, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1032,\n              columnNumber: 29\n            }, this), \"Last API Request\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1025,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              onOpenSettings();\n              onClose();\n            },\n            className: \"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\",\n            children: [/*#__PURE__*/_jsxDEV(Settings, {\n              className: \"h-4 w-4 mr-2\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1043,\n              columnNumber: 29\n            }, this), \"Settings\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1036,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 962,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 961,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 946,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s6(Sidebar, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");\n_c9 = Sidebar;\nconst ConfirmDialog = ({\n  isOpen,\n  onClose,\n  onConfirm,\n  title,\n  message\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-md w-full p-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold mb-2\",\n        children: title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1060,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-gray-600 mb-6\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1061,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-end space-x-3\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: onClose,\n          className: \"px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-50\",\n          children: \"Cancel\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1063,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => {\n            onConfirm();\n            onClose();\n          },\n          className: \"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600\",\n          children: \"Confirm\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1069,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1062,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1059,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1058,\n    columnNumber: 9\n  }, this);\n};\n_c10 = ConfirmDialog;\nconst SavedTranslationsDialog = ({\n  isOpen,\n  onClose,\n  savedTranslations,\n  onSelectSaved,\n  onDeleteSaved,\n  onClearAll\n}) => {\n  _s7();\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState(null);\n\n  // Reset search when dialog is opened\n  useEffect(() => {\n    if (isOpen) {\n      setSearchTerm('');\n    }\n  }, [isOpen]);\n  if (!isOpen) return null;\n  const handleClose = () => {\n    setSearchTerm('');\n    setShowConfirmDialog(false);\n    setItemToDelete(null);\n    onClose();\n  };\n  const filteredTranslations = savedTranslations.filter(item => item.inputText.toLowerCase().includes(searchTerm.toLowerCase()) || item.translatedText.toLowerCase().includes(searchTerm.toLowerCase()));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    onClick: handleClose,\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg w-full max-w-3xl max-h-[80vh] flex flex-col\",\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"text-xl font-semibold\",\n          children: \"Saved Translations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1120,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleClose,\n          className: \"text-gray-500 hover:text-gray-700 transition-colors\",\n          children: /*#__PURE__*/_jsxDEV(X, {\n            className: \"h-5 w-5\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1121,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1119,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"relative\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Search translations...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-3 focus:ring-gray-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1131,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(Search, {\n            className: \"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1138,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1129,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto p-4\",\n        children: savedTranslations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 py-8\",\n          children: [/*#__PURE__*/_jsxDEV(Folder, {\n            className: \"h-12 w-12 mx-auto mb-3 text-gray-400\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1145,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No saved translations yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1146,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1144,\n          columnNumber: 25\n        }, this) : filteredTranslations.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center text-gray-500 py-8\",\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"No translations match your search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1150,\n            columnNumber: 29\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1149,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: filteredTranslations.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border rounded-lg p-4 hover:bg-gray-50 transition-colors group relative\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-2 flex justify-between items-start\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-sm text-gray-500\",\n                children: new Date(item.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  setItemToDelete(index);\n                  setShowConfirmDialog(true);\n                },\n                className: \"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity\",\n                children: /*#__PURE__*/_jsxDEV(Trash2, {\n                  className: \"h-4 w-4\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1170,\n                  columnNumber: 45\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1163,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1159,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"space-y-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs font-medium text-gray-500 mb-1\",\n                  children: \"Original:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1175,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm\",\n                  children: item.inputText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1176,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1174,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-xs font-medium text-gray-500 mb-1\",\n                  children: \"Translation:\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1179,\n                  columnNumber: 45\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-sm\",\n                  children: item.translatedText\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1180,\n                  columnNumber: 45\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1178,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 37\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 flex justify-end\",\n              children: /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => {\n                  onSelectSaved(item);\n                  onClose();\n                },\n                className: \"text-sm text-blue-500 hover:text-blue-600\",\n                children: \"Load translation\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1184,\n                columnNumber: 41\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1183,\n              columnNumber: 37\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 33\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1153,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1142,\n        columnNumber: 17\n      }, this), savedTranslations.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-t\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setShowConfirmDialog(true),\n          className: \"text-red-500 hover:text-red-600 text-sm\",\n          children: \"Clear all saved translations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1202,\n          columnNumber: 25\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1201,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1115,\n      columnNumber: 13\n    }, this), showConfirmDialog && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white rounded-lg p-6 max-w-md w-full\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold mb-2\",\n          children: itemToDelete !== null ? \"Delete Translation\" : \"Clear All Translations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1215,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-gray-600 mb-6\",\n          children: itemToDelete !== null ? \"Are you sure you want to delete this translation?\" : \"Are you sure you want to clear all saved translations? This action cannot be undone.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1218,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-end space-x-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              setShowConfirmDialog(false);\n              setItemToDelete(null);\n            },\n            className: \"px-4 py-2 text-gray-500 hover:text-gray-700\",\n            children: \"Cancel\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1224,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => {\n              if (itemToDelete !== null) {\n                onDeleteSaved(itemToDelete);\n              } else {\n                onClearAll();\n              }\n              setShowConfirmDialog(false);\n              setItemToDelete(null);\n            },\n            className: \"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\",\n            children: \"Confirm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1233,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1223,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1214,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1213,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1111,\n    columnNumber: 9\n  }, this);\n};\n_s7(SavedTranslationsDialog, \"2u8y4CxgQ3dgM7T7C7+11KovGE4=\");\n_c11 = SavedTranslationsDialog;\nconst HistoryPanel = ({\n  isOpen,\n  onClose,\n  history,\n  onSelectHistory,\n  onDeleteHistory,\n  onClearHistory\n}) => {\n  _s8();\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\n  const [itemToDelete, setItemToDelete] = useState(null);\n  useEffect(() => {\n    if (isOpen) {\n      document.body.style.overflow = 'hidden';\n    } else {\n      document.body.style.overflow = 'unset';\n    }\n    return () => {\n      document.body.style.overflow = 'unset';\n    };\n  }, [isOpen]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed inset-0 bg-black bg-opacity-50 transition-opacity z-20 ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`,\n      onClick: onClose\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1272,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed right-0 top-0 h-full w-80 bg-white shadow-lg transform \n          transition-transform z-30 ${isOpen ? 'translate-x-0' : 'translate-x-full'}\n          flex flex-col overflow-hidden`,\n      onClick: e => e.stopPropagation(),\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"p-4 border-b flex-shrink-0\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold\",\n            children: \"Translation History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1284,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"text-gray-500 hover:text-gray-700\",\n            children: /*#__PURE__*/_jsxDEV(X, {\n              className: \"h-5 w-5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1286,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1285,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1283,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1282,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex-1 overflow-y-auto overscroll-contain p-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [history.length > 0 && /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowConfirmDialog(true),\n            className: \"w-full px-4 py-2 text-red-600 border border-red-200 rounded-lg hover:bg-red-50 transition-colors mb-4\",\n            children: \"Clear All History\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1294,\n            columnNumber: 29\n          }, this), history.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-3 border rounded-lg hover:bg-gray-50 relative group\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"cursor-pointer\",\n              onClick: () => onSelectHistory(item),\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm font-medium text-gray-600 mb-1\",\n                children: new Date(item.timestamp).toLocaleString()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1311,\n                columnNumber: 37\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-sm text-gray-500 truncate pr-8\",\n                children: item.inputText\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1314,\n                columnNumber: 37\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1307,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setItemToDelete(index);\n                setShowConfirmDialog(true);\n              },\n              className: \"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 \\r hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all\",\n              title: \"Delete entry\",\n              children: /*#__PURE__*/_jsxDEV(Trash2, {\n                className: \"h-4 w-4\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1327,\n                columnNumber: 37\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1318,\n              columnNumber: 33\n            }, this)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1303,\n            columnNumber: 29\n          }, this)), history.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-center text-gray-500 py-4\",\n            children: \"No translation history yet\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1332,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1292,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1291,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1276,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(ConfirmDialog, {\n      isOpen: showConfirmDialog,\n      onClose: () => {\n        setShowConfirmDialog(false);\n        setItemToDelete(null);\n      },\n      onConfirm: () => {\n        if (itemToDelete !== null) {\n          onDeleteHistory(itemToDelete);\n        } else {\n          onClearHistory();\n        }\n      },\n      title: itemToDelete !== null ? \"Delete Entry\" : \"Clear Translation History\",\n      message: itemToDelete !== null ? \"Are you sure you want to delete this translation entry?\" : \"Are you sure you want to clear all translation history? This action cannot be undone.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1340,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true);\n};\n_s8(HistoryPanel, \"5pzzc1ZYEJl2Ur1h16ZBxDXyC/M=\");\n_c12 = HistoryPanel;\nconst ActionButton = ({\n  type,\n  onClick,\n  isActive = false,\n  isLoading = false,\n  disabled = false,\n  onCancel\n}) => {\n  const getButtonContent = () => {\n    switch (type) {\n      case 'translate':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [/*#__PURE__*/_jsxDEV(ArrowLeftRight, {\n            className: `h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1377,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"min-w-[60px] sm:min-w-[80px]\",\n            children: isLoading ? 'Translating...' : 'Translate'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1378,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true);\n      case 'copy':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [isActive ? /*#__PURE__*/_jsxDEV(ClipboardCheck, {\n            className: \"h-4 w-4 mr-2 text-white\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1387,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(ClipboardCopy, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1389,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"min-w-[40px] sm:min-w-[80px]\",\n            children: isActive ? 'Copied!' : 'Copy'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1391,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true);\n      case 'save':\n        return /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [isActive ? /*#__PURE__*/_jsxDEV(Check, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1400,\n            columnNumber: 29\n          }, this) : /*#__PURE__*/_jsxDEV(BookmarkIcon, {\n            className: \"h-4 w-4 mr-2\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1402,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"min-w-[40px] sm:min-w-[80px]\",\n            children: isActive ? 'Saved!' : 'Save'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1404,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true);\n      default:\n        return null;\n    }\n  };\n  const handleClick = () => {\n    if (type === 'translate' && isLoading) {\n      onCancel === null || onCancel === void 0 ? void 0 : onCancel();\n    } else {\n      onClick === null || onClick === void 0 ? void 0 : onClick();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col items-center\",\n    children: [/*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleClick,\n      disabled: disabled && !isLoading,\n      className: `\n                    px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center\n                    w-full sm:w-auto sm:min-w-[140px] md:min-w-[160px] \n                    transition-all duration-300 relative overflow-hidden\n                    ${type === 'translate' ? disabled && !isLoading ? 'bg-gray-300 text-gray-500 cursor-not-allowed' : 'bg-navy-500 text-white hover:bg-navy-600' : isActive ? 'bg-navy-500 text-white' : 'bg-gray-100 hover:bg-gray-200 text-gray-700'}\n                `,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative flex items-center justify-center\",\n        children: getButtonContent()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1441,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1424,\n      columnNumber: 13\n    }, this), isLoading && type === 'translate' && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-2 text-sm text-gray-600\",\n      children: \"Tap again to cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1448,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1423,\n    columnNumber: 9\n  }, this);\n};\n_c13 = ActionButton;\nconst SafetyWarningDialog = ({\n  isOpen,\n  onClose\n}) => {\n  if (!isOpen) return null;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white rounded-lg max-w-md w-full p-6 relative animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onClose,\n        className: \"absolute right-4 top-4 text-gray-500 hover:text-gray-700 rounded-full p-1 hover:bg-gray-100 transition-colors\",\n        \"aria-label\": \"Close dialog\",\n        children: /*#__PURE__*/_jsxDEV(X, {\n          className: \"h-5 w-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1467,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1462,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-start space-x-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-shrink-0 bg-yellow-50 rounded-full p-2\",\n          children: /*#__PURE__*/_jsxDEV(AlertTriangle, {\n            className: \"h-6 w-6 text-yellow-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1472,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1471,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex-1\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-900 mb-2\",\n            children: \"Content Warning\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1476,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-600 mb-4\",\n            children: \"The translation request was blocked due to potentially inappropriate content. Please review your text and try again with appropriate content.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1480,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"font-medium text-yellow-800 mb-1\",\n              children: \"Note\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1485,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-yellow-700 text-sm\",\n              children: \"Our translation service maintains certain content standards to ensure safe and respectful communication.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1486,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1484,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: onClose,\n            className: \"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors\",\n            children: \"Got it\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1491,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1475,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1470,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1461,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 1460,\n    columnNumber: 9\n  }, this);\n};\n_c14 = SafetyWarningDialog;\nconst TranslatorApp = () => {\n  _s9();\n  var _localStorage$getItem, _translations$current;\n  // All hooks declarations\n  const [inputText, setInputText] = useState('');\n  const [translations, setTranslations] = useState([]); // Array of translations\n  const [currentIndex, setCurrentIndex] = useState(0);\n  const [copySuccess, setCopySuccess] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [isSidebarOpen, setIsSidebarOpen] = useState(false);\n  const [isHistoryOpen, setIsHistoryOpen] = useState(false);\n  const [isInstructionsOpen, setIsInstructionsOpen] = useState(false);\n  const [selectedModel, setSelectedModel] = useState(MODELS.GEMINI);\n  const [modelInstructions, setModelInstructions] = useState(DEFAULT_INSTRUCTIONS);\n  const [history, setHistory] = useState([]);\n  const [savedTranslations, setSavedTranslations] = useState([]);\n  const [isSavedOpen, setIsSavedOpen] = useState(false);\n  const [saveSuccess, setSaveSuccess] = useState(false);\n  const [touchStart, setTouchStart] = useState(null);\n  const [touchEnd, setTouchEnd] = useState(null);\n  const [requestLog, setRequestLog] = useState(null);\n  const [isRequestLogOpen, setIsRequestLogOpen] = useState(false);\n  const [sourceLang, setSourceLang] = useState('auto');\n  const [targetLang, setTargetLang] = useState('en');\n  const [showSafetyWarning, setShowSafetyWarning] = useState(false);\n  const [selectedTone, setSelectedTone] = useState('standard');\n  const [isVoiceSettingsOpen, setIsVoiceSettingsOpen] = useState(false);\n  const [selectedVoices, setSelectedVoices] = useState({\n    'en': 'en-US-AriaNeural',\n    'ko': 'ko-KR-SunHiNeural',\n    'ja': 'ja-JP-NanamiNeural',\n    'zh': 'zh-CN-XiaoxiaoNeural',\n    'fr': 'fr-FR-DeniseNeural',\n    'es': 'es-ES-ElviraNeural',\n    'de': 'de-DE-KatjaNeural',\n    'it': 'it-IT-ElsaNeural',\n    'pt': 'pt-BR-FranciscaNeural',\n    'ar': 'ar-SA-ZariyahNeural'\n  });\n  const [maxLength, setMaxLength] = useState(parseInt(localStorage.getItem('maxInputLength')) || 5000);\n  const [isSettingsOpen, setIsSettingsOpen] = useState(false);\n  const [isFixedSize, setIsFixedSize] = useState(false);\n  const [translationController, setTranslationController] = useState(null);\n  const [saveHistory, setSaveHistory] = useState(JSON.parse((_localStorage$getItem = localStorage.getItem('saveHistory')) !== null && _localStorage$getItem !== void 0 ? _localStorage$getItem : 'true'));\n  const [apiKeys, setApiKeys] = useState(() => ({\n    gemini: localStorage.getItem('gemini_api_key') || '',\n    openrouter: localStorage.getItem('openrouter_api_key') || '',\n    openai: localStorage.getItem('openai_api_key') || ''\n  }));\n\n  // All useEffect hooks\n  useEffect(() => {\n    // Reset tone to standard when changing models if current tone isn't available\n    const modelTones = TONES[selectedModel] || TONES[MODELS.GEMINI];\n    if (!modelTones.find(tone => tone.id === selectedTone)) {\n      setSelectedTone('standard');\n    }\n  }, [selectedModel, selectedTone]);\n  useEffect(() => {\n    // Load history based on the current saveHistory setting\n    setHistory(loadHistory(saveHistory));\n    setSavedTranslations(loadSavedTranslations());\n  }, [saveHistory]); // Add saveHistory as a dependency\n\n  useEffect(() => {\n    const savedFixedSize = localStorage.getItem('isFixedSize');\n    if (savedFixedSize !== null) {\n      setIsFixedSize(JSON.parse(savedFixedSize));\n    }\n  }, []);\n  const handleApiKeysChange = newApiKeys => {\n    setApiKeys(newApiKeys);\n    localStorage.setItem('gemini_api_key', newApiKeys.gemini);\n    localStorage.setItem('openrouter_api_key', newApiKeys.openrouter);\n    localStorage.setItem('openai_api_key', newApiKeys.openai);\n  };\n\n  // Add the handleToggleFixedSize function\n  const handleToggleFixedSize = () => {\n    setIsFixedSize(prev => {\n      const newValue = !prev;\n      localStorage.setItem('isFixedSize', JSON.stringify(newValue));\n      return newValue;\n    });\n  };\n\n  // Version check function\n  const isVersionSecure = (currentVersion, minVersion) => {\n    const current = currentVersion.split('.').map(Number);\n    const min = minVersion.split('.').map(Number);\n    for (let i = 0; i < 3; i++) {\n      if (current[i] > min[i]) return true;\n      if (current[i] < min[i]) return false;\n    }\n    return true;\n  };\n\n  // Version security check after all hooks\n  if (!isVersionSecure(APP_VERSION, MIN_SECURE_VERSION)) {\n    localStorage.removeItem('translator_auth');\n    return /*#__PURE__*/_jsxDEV(Navigate, {\n      to: \"/\",\n      replace: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1608,\n      columnNumber: 16\n    }, this);\n  }\n  const translateWithGemini = async (text, previousTranslations = [], signal) => {\n    if (!apiKeys.gemini) {\n      throw new Error('Please enter your Gemini API key in settings');\n    }\n    try {\n      var _data$candidates, _data$candidates$, _data$candidates$$con, _data$candidates$$con2, _data$candidates$$con3;\n      // Get base instructions\n      const basePreInstruction = modelInstructions[selectedModel]['pre-instruction'];\n      const postInstruction = modelInstructions[selectedModel]['post-instruction'];\n      const toneInstructions = getToneInstructions(selectedTone, modelInstructions, selectedModel);\n\n      // Get language settings\n      const sourceLanguage = LANGUAGE_NAMES[sourceLang] || sourceLang;\n      const targetLanguage = LANGUAGE_NAMES[targetLang] || targetLang;\n\n      // Construct the prompt\n      let prompt = `Instructions:\\n${basePreInstruction}\\n\\n`;\n\n      // Add Language settings\n      prompt += `Language:\\n`;\n      if (sourceLang === 'auto') {\n        prompt += `- Detect source language and translate to ${targetLanguage}\\n\\n`;\n      } else {\n        prompt += `- From: ${sourceLanguage}\\n- To: ${targetLanguage}\\n\\n`;\n      }\n\n      // Add Tone settings\n      prompt += `Tone:\\n${toneInstructions.instruction}\\n\\n`;\n\n      // Add text to translate\n      prompt += `Text to be translated:\\n${text}\\n\\n`;\n\n      // Add previous translations if any\n      if (previousTranslations.length > 0) {\n        prompt += \"Previous translations to avoid repeating:\\n\";\n        previousTranslations.forEach((trans, index) => {\n          prompt += `${index + 1}: ${trans.text}\\n`;\n        });\n        prompt += \"\\nNote: Provide a fresh translation different from the above versions.\\n\\n\";\n      }\n\n      // Add post instructions\n      prompt += postInstruction;\n\n      // Set request log\n      const requestBody = {\n        contents: [{\n          parts: [{\n            text: prompt\n          }]\n        }]\n      };\n      setRequestLog({\n        model: \"gemini-1.5-flash\",\n        messages: [{\n          content: prompt\n        }],\n        endpoint: \"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent\",\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKeys.gemini}`, {\n        method: 'POST',\n        signal,\n        // Add AbortController signal\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(requestBody)\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      if (!((_data$candidates = data.candidates) !== null && _data$candidates !== void 0 && (_data$candidates$ = _data$candidates[0]) !== null && _data$candidates$ !== void 0 && (_data$candidates$$con = _data$candidates$.content) !== null && _data$candidates$$con !== void 0 && (_data$candidates$$con2 = _data$candidates$$con.parts) !== null && _data$candidates$$con2 !== void 0 && (_data$candidates$$con3 = _data$candidates$$con2[0]) !== null && _data$candidates$$con3 !== void 0 && _data$candidates$$con3.text)) {\n        throw new Error('Invalid response structure from Gemini API');\n      }\n      return data.candidates[0].content.parts[0].text;\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        throw error; // AbortError를 그대로 전파\n      }\n      throw error;\n    }\n  };\n  const translateWithOpenRouter = async (text, modelId, previousTranslations = [], signal) => {\n    if (!apiKeys.openrouter) {\n      throw new Error('Please enter your OpenRouter API key in settings');\n    }\n    const modelUrl = modelId === MODELS.ANTHROPIC ? 'anthropic/claude-3-haiku' : 'cohere/command-r-08-2024';\n\n    // Get base instructions\n    const basePreInstruction = modelInstructions[selectedModel]['pre-instruction'];\n    const postInstruction = modelInstructions[selectedModel]['post-instruction'];\n    const toneInstructions = getToneInstructions(selectedTone, modelInstructions, selectedModel);\n\n    // Get language settings\n    const sourceLanguage = LANGUAGE_NAMES[sourceLang] || sourceLang;\n    const targetLanguage = LANGUAGE_NAMES[targetLang] || targetLang;\n\n    // Construct the prompt for system message\n    let prompt = `Instructions:\\n${basePreInstruction}\\n\\n`;\n\n    // Add Language settings\n    prompt += `Language:\\n`;\n    if (sourceLang === 'auto') {\n      prompt += `- Detect source language and translate to ${targetLanguage}\\n\\n`;\n    } else {\n      prompt += `- From: ${sourceLanguage}\\n- To: ${targetLanguage}\\n\\n`;\n    }\n\n    // Add Tone settings\n    prompt += `Tone:\\n${toneInstructions.instruction}\\n\\n`;\n\n    // Create user message with the text to translate\n    prompt += `Text to be translated:\\n${text}\\n\\n`;\n\n    // Add previous translations if any\n    if (previousTranslations.length > 0) {\n      prompt += \"Previous translations to avoid repeating:\\n\";\n      previousTranslations.forEach((trans, index) => {\n        prompt += `${index + 1}: ${trans.text}\\n`;\n      });\n      prompt += \"\\nNote: Provide a fresh translation different from the above versions.\\n\\n\";\n    }\n    const requestBody = {\n      model: modelUrl,\n      messages: [{\n        role: \"system\",\n        content: prompt\n      }, {\n        role: \"system\",\n        content: postInstruction\n      }],\n      endpoint: \"https://openrouter.ai/api/v1/chat/completions\",\n      headers: {\n        'Content-Type': 'application/json',\n        'HTTP-Referer': window.location.origin,\n        'X-Title': 'Translator App'\n      }\n    };\n    setRequestLog(requestBody);\n    try {\n      var _data$choices$, _data$choices$$messag;\n      const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {\n        method: 'POST',\n        signal,\n        // AbortController signal 추가\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${apiKeys.openrouter}`,\n          'HTTP-Referer': window.location.origin,\n          'X-Title': 'Translator App'\n        },\n        body: JSON.stringify({\n          model: modelUrl,\n          messages: [{\n            role: \"system\",\n            content: prompt\n          }, {\n            role: \"system\",\n            content: postInstruction\n          }]\n        })\n      });\n      if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\n      const data = await response.json();\n      return (_data$choices$ = data.choices[0]) === null || _data$choices$ === void 0 ? void 0 : (_data$choices$$messag = _data$choices$.message) === null || _data$choices$$messag === void 0 ? void 0 : _data$choices$$messag.content;\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        throw error; // AbortError를 그대로 전파\n      }\n      throw new Error(error.message === 'Unauthorized' ? 'Invalid API key. Please check your environment variables.' : `Translation error: ${error.message}`);\n    }\n  };\n  const translateWithOpenAI = async (text, previousTranslations = [], signal) => {\n    if (!apiKeys.openai) {\n      throw new Error('Please enter your OpenAI API key in settings');\n    }\n    try {\n      var _data$choices$2, _data$choices$2$messa;\n      // Get base instructions\n      const basePreInstruction = modelInstructions[MODELS.OPENAI]['pre-instruction'];\n      const postInstruction = modelInstructions[MODELS.OPENAI]['post-instruction'];\n      const toneInstructions = getToneInstructions(selectedTone, modelInstructions, MODELS.OPENAI);\n\n      // Get language settings\n      const sourceLanguage = LANGUAGE_NAMES[sourceLang] || sourceLang;\n      const targetLanguage = LANGUAGE_NAMES[targetLang] || targetLang;\n\n      // Construct the prompt\n      let prompt = `Instructions:\\n${basePreInstruction}\\n\\n`;\n\n      // Add Language settings\n      prompt += `Language:\\n`;\n      if (sourceLang === 'auto') {\n        prompt += `- Detect source language and translate to ${targetLanguage}\\n\\n`;\n      } else {\n        prompt += `- From: ${sourceLanguage}\\n- To: ${targetLanguage}\\n\\n`;\n      }\n\n      // Add Tone settings\n      prompt += `Tone:\\n${toneInstructions.instruction}\\n\\n`;\n\n      // Add text to translate\n      prompt += `Text to be translated:\\n${text}\\n\\n`;\n\n      // Add previous translations if any\n      if (previousTranslations.length > 0) {\n        prompt += \"Previous translations to avoid repeating:\\n\";\n        previousTranslations.forEach((trans, index) => {\n          prompt += `${index + 1}: ${trans.text}\\n`;\n        });\n        prompt += \"\\nNote: Provide a fresh translation different from the above versions.\\n\\n\";\n      }\n\n      // Add post instructions\n      prompt += postInstruction;\n\n      // Set request log\n      const requestBody = {\n        model: \"gpt-4o-mini-2024-07-18\",\n        messages: [{\n          role: \"system\",\n          content: \"You are a professional translator.\"\n        }, {\n          role: \"user\",\n          content: prompt\n        }],\n        temperature: 0.7,\n        max_tokens: 2000\n      };\n      setRequestLog(requestBody);\n      const response = await fetch('https://api.openai.com/v1/chat/completions', {\n        method: 'POST',\n        signal,\n        // AbortController signal 추가\n        headers: {\n          'Content-Type': 'application/json',\n          'Authorization': `Bearer ${apiKeys.openai}`\n        },\n        body: JSON.stringify({\n          model: \"gpt-4o-mini-2024-07-18\",\n          messages: [{\n            role: \"system\",\n            content: \"You are a professional translator.\"\n          }, {\n            role: \"user\",\n            content: prompt\n          }],\n          temperature: 0.7,\n          max_tokens: 2000\n        })\n      });\n      if (!response.ok) {\n        throw new Error(`HTTP error! status: ${response.status}`);\n      }\n      const data = await response.json();\n      return (_data$choices$2 = data.choices[0]) === null || _data$choices$2 === void 0 ? void 0 : (_data$choices$2$messa = _data$choices$2.message) === null || _data$choices$2$messa === void 0 ? void 0 : _data$choices$2$messa.content;\n    } catch (error) {\n      if (error.name === 'AbortError') {\n        throw error; // AbortError를 그대로 전파\n      }\n      throw new Error(error.message === 'Unauthorized' ? 'Invalid OpenAI API key. Please check your environment variables.' : `Translation error: ${error.message}`);\n    }\n  };\n  const validateLanguageSupport = (sourceLang, targetLang) => {\n    const supportedLanguages = ['auto', 'en', 'fr', 'es', 'it', 'de', 'pt', 'ja', 'ko', 'zh', 'ar'];\n    if (sourceLang !== 'auto' && !supportedLanguages.includes(sourceLang)) {\n      throw new Error(`Unsupported source language: ${sourceLang}`);\n    }\n    if (!supportedLanguages.includes(targetLang)) {\n      throw new Error(`Unsupported target language: ${targetLang}`);\n    }\n  };\n  const deleteHistoryItem = index => {\n    const newHistory = [...history];\n    newHistory.splice(index, 1);\n    setHistory(newHistory);\n    saveHistoryToStorage(newHistory, saveHistory);\n  };\n  const clearAllHistory = () => {\n    setHistory([]);\n    saveHistoryToStorage([], saveHistory);\n  };\n  const handleSaveTranslation = () => {\n    if (!inputText || !translatedText) return;\n    const newSavedTranslation = {\n      inputText,\n      translatedText,\n      model: selectedModel,\n      timestamp: new Date().toISOString()\n    };\n    const updatedSavedTranslations = [newSavedTranslation, ...savedTranslations].slice(0, MAX_SAVED_TRANSLATIONS);\n    setSavedTranslations(updatedSavedTranslations);\n    saveSavedTranslations(updatedSavedTranslations);\n\n    // Show success feedback\n    setSaveSuccess(true);\n    setTimeout(() => setSaveSuccess(false), 2000);\n  };\n  const deleteSavedTranslation = index => {\n    const newSavedTranslations = [...savedTranslations];\n    newSavedTranslations.splice(index, 1);\n    setSavedTranslations(newSavedTranslations);\n    saveSavedTranslations(newSavedTranslations);\n  };\n  const clearAllSavedTranslations = () => {\n    setSavedTranslations([]);\n    saveSavedTranslations([]);\n  };\n\n  // Get current translation text\n  const translatedText = ((_translations$current = translations[currentIndex]) === null || _translations$current === void 0 ? void 0 : _translations$current.text) || '';\n\n  // Handle translation navigation\n  const handlePrevious = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex(currentIndex - 1);\n    }\n  };\n  const handleNext = async () => {\n    if (currentIndex < translations.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n    } else {\n      // Request new translation when at the end\n      await handleTranslate(true);\n    }\n  };\n  const handleTranslate = async (isAdditional = false) => {\n    try {\n      setIsLoading(true);\n      setError('');\n      validateLanguageSupport(sourceLang, targetLang);\n\n      // Create AbortController for cancellation\n      const controller = new AbortController();\n      setTranslationController(controller);\n      let translatedResult;\n      try {\n        if (isAdditional) {\n          switch (selectedModel) {\n            case MODELS.GEMINI:\n              translatedResult = await translateWithGemini(inputText, translations, controller.signal);\n              break;\n            case MODELS.COMMAND:\n              translatedResult = await translateWithOpenRouter(inputText, selectedModel, translations, controller.signal);\n              break;\n            case MODELS.ANTHROPIC:\n              translatedResult = await translateWithOpenRouter(inputText, selectedModel, translations, controller.signal);\n              break;\n            case MODELS.OPENAI:\n              translatedResult = await translateWithOpenAI(inputText, translations, controller.signal);\n              break;\n            default:\n              throw new Error('Invalid model selected');\n          }\n        } else {\n          switch (selectedModel) {\n            case MODELS.GEMINI:\n              translatedResult = await translateWithGemini(inputText, [], controller.signal);\n              break;\n            case MODELS.COMMAND:\n              translatedResult = await translateWithOpenRouter(inputText, selectedModel, [], controller.signal);\n              break;\n            case MODELS.ANTHROPIC:\n              translatedResult = await translateWithOpenRouter(inputText, selectedModel, [], controller.signal);\n              break;\n            case MODELS.OPENAI:\n              translatedResult = await translateWithOpenAI(inputText, [], controller.signal);\n              break;\n            default:\n              throw new Error('Invalid model selected');\n          }\n        }\n        if (!translatedResult) throw new Error('No translation result.');\n        if (isAdditional) {\n          setTranslations(prev => [...prev, {\n            text: translatedResult,\n            timestamp: new Date()\n          }]);\n          setCurrentIndex(translations.length);\n        } else {\n          setTranslations([{\n            text: translatedResult,\n            timestamp: new Date()\n          }]);\n          setCurrentIndex(0);\n        }\n\n        // Inside handleTranslate, modify the history section:\n        if (saveHistory) {\n          const newHistory = [{\n            inputText,\n            translatedText: translatedResult,\n            model: selectedModel,\n            timestamp: new Date().toISOString()\n          }, ...history].slice(0, MAX_HISTORY_ITEMS);\n          setHistory(newHistory);\n          saveHistoryToStorage(newHistory, saveHistory);\n        }\n      } catch (err) {\n        throw err;\n      }\n    } catch (err) {\n      if (err.name === 'AbortError') {\n        // Don't set error for cancelled translations\n        return;\n      } else if (err.message.includes('SAFETY')) {\n        setShowSafetyWarning(true);\n      } else {\n        setError(err.message);\n      }\n    } finally {\n      setIsLoading(false);\n      setTranslationController(null);\n      setCopySuccess(false);\n    }\n  };\n  const handleCancelTranslation = () => {\n    if (translationController) {\n      translationController.abort();\n    }\n  };\n  const handleVoiceChange = newVoices => {\n    setSelectedVoices(newVoices);\n    saveVoiceSettings(newVoices);\n  };\n\n  // Handle touch events for swipe\n  const minSwipeDistance = 50;\n  const onTouchStart = e => {\n    setTouchEnd(null);\n    setTouchStart(e.targetTouches[0].clientX);\n  };\n  const onTouchMove = e => {\n    setTouchEnd(e.targetTouches[0].clientX);\n  };\n  const onTouchEnd = () => {\n    if (!touchStart || !touchEnd) return;\n    const distance = touchStart - touchEnd;\n    const isLeftSwipe = distance > minSwipeDistance;\n    const isRightSwipe = distance < -minSwipeDistance;\n    if (isLeftSwipe) {\n      handleNext();\n    }\n    if (isRightSwipe) {\n      handlePrevious();\n    }\n  };\n\n  // Handle clear\n  const handleClear = () => {\n    setInputText('');\n    setTranslations([]);\n    setCurrentIndex(0);\n    setCopySuccess(false);\n    setError('');\n  };\n  const handleMaxLengthChange = newMaxLength => {\n    setMaxLength(newMaxLength);\n    localStorage.setItem('maxInputLength', newMaxLength.toString());\n  };\n  const baseUrl = process.env.PUBLIC_URL || '/';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"w-full min-h-screen bg-gray-50\",\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: [/*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Hoochoo Translator\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2109,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"meta\", {\n        name: \"description\",\n        content: \"Multi-language translation application\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2110,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 2108,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Sidebar, {\n      isOpen: isSidebarOpen,\n      onClose: () => setIsSidebarOpen(false),\n      onOpenHistory: () => setIsHistoryOpen(true),\n      onOpenInstructions: () => setIsInstructionsOpen(true),\n      onOpenSaved: () => setIsSavedOpen(true),\n      onOpenRequestLog: () => setIsRequestLogOpen(true),\n      onOpenVoiceSettings: () => setIsVoiceSettingsOpen(true),\n      onOpenSettings: () => setIsSettingsOpen(true),\n      isFixedSize: isFixedSize // Add this prop\n      ,\n      onToggleFixedSize: handleToggleFixedSize // Add this prop\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2113,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(HistoryPanel, {\n      isOpen: isHistoryOpen,\n      onClose: () => setIsHistoryOpen(false),\n      history: history,\n      onSelectHistory: item => {\n        setInputText(item.inputText);\n        setTranslations([{\n          text: item.translatedText,\n          timestamp: new Date()\n        }]);\n        setCurrentIndex(0);\n        setIsHistoryOpen(false);\n      },\n      onDeleteHistory: deleteHistoryItem,\n      onClearHistory: clearAllHistory\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SavedTranslationsDialog, {\n      isOpen: isSavedOpen,\n      onClose: () => setIsSavedOpen(false),\n      savedTranslations: savedTranslations,\n      onSelectSaved: item => {\n        setInputText(item.inputText);\n        setTranslations([{\n          text: item.translatedText,\n          timestamp: new Date()\n        }]);\n        setCurrentIndex(0);\n      },\n      onDeleteSaved: deleteSavedTranslation,\n      onClearAll: clearAllSavedTranslations\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2140,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(InstructionsModal, {\n      isOpen: isInstructionsOpen,\n      onClose: () => setIsInstructionsOpen(false),\n      modelInstructions: modelInstructions,\n      selectedModel: selectedModel,\n      setModelInstructions: setModelInstructions,\n      selectedTone: selectedTone,\n      className: \"w-full max-w-2xl max-h-[90vh] flex flex-col\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2153,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(VoiceSettingsModal, {\n      isOpen: isVoiceSettingsOpen,\n      onClose: () => setIsVoiceSettingsOpen(false),\n      selectedVoices: selectedVoices,\n      onVoiceChange: handleVoiceChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2163,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(RequestLogViewer, {\n      isOpen: isRequestLogOpen,\n      onClose: () => setIsRequestLogOpen(false),\n      requestLog: requestLog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2170,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SafetyWarningDialog, {\n      isOpen: showSafetyWarning,\n      onClose: () => setShowSafetyWarning(false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2176,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(SettingsDialog, {\n      isOpen: isSettingsOpen,\n      onClose: () => setIsSettingsOpen(false),\n      maxLength: maxLength,\n      onMaxLengthChange: handleMaxLengthChange,\n      saveHistory: saveHistory,\n      onSaveHistoryChange: newValue => {\n        setSaveHistory(newValue);\n        localStorage.setItem('saveHistory', JSON.stringify(newValue));\n        if (!newValue) {\n          setHistory([]);\n          localStorage.removeItem('translationHistory');\n        }\n      },\n      apiKeys: apiKeys,\n      onApiKeysChange: handleApiKeysChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2181,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"w-full border-b bg-white\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"max-w-7xl mx-auto\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center p-4 space-x-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setIsSidebarOpen(true),\n            className: \"text-gray-600 hover:text-gray-800 transition-colors\",\n            title: \"Menu\",\n            children: /*#__PURE__*/_jsxDEV(MenuIcon, {\n              className: \"h-6 w-6\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2208,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2203,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n            href: baseUrl,\n            className: \"text-xl font-semibold text-gray-800 hover:text-gray-600 transition-colors cursor-pointer\",\n            children: \"Hoochoo Translator\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2211,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2202,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 2201,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2200,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto p-4\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-1\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full\",\n          children: /*#__PURE__*/_jsxDEV(\"select\", {\n            value: selectedModel,\n            onChange: e => {\n              setSelectedModel(e.target.value);\n              setTranslations([]);\n              setCurrentIndex(0);\n            },\n            className: \"w-[200px] p-2 border rounded-md focus:ring-2 focus:ring-gray-500\",\n            children: AVAILABLE_MODELS.map(model => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: model.id,\n              children: model.name\n            }, model.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2236,\n              columnNumber: 33\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2226,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2225,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(LanguageSelector, {\n            sourceLang: sourceLang,\n            targetLang: targetLang,\n            onSourceChange: setSourceLang,\n            onTargetChange: setTargetLang,\n            inputText: inputText,\n            translatedText: translatedText,\n            onInputTextChange: setInputText,\n            onTranslatedTextChange: text => {\n              setTranslations([{\n                text,\n                timestamp: new Date()\n              }]);\n              setCurrentIndex(0);\n            },\n            onResetTranslations: () => {\n              setTranslations([]);\n              setCurrentIndex(0);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2245,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2244,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2 mb-2\",\n          children: [\" \", /*#__PURE__*/_jsxDEV(ToneSelector, {\n            selectedTone: selectedTone,\n            onToneChange: setSelectedTone,\n            selectedModel: selectedModel\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2266,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2265,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row gap-2 md:gap-6 mb-6\",\n          children: [/*#__PURE__*/_jsxDEV(TextArea, {\n            value: inputText,\n            onChange: e => setInputText(e.target.value),\n            placeholder: \"Enter text...\",\n            showSpeaker: true,\n            maxLength: maxLength,\n            onClear: () => handleClear(),\n            language: sourceLang,\n            selectedVoice: selectedVoices[sourceLang],\n            isFixedSize: isFixedSize // Add this prop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2275,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n            value: translatedText,\n            isOutput: true,\n            onChange: e => {\n              const newText = e.target.value;\n              const updatedTranslations = translations.map((item, index) => index === currentIndex ? {\n                ...item,\n                text: newText\n              } : item);\n              setTranslations(updatedTranslations);\n            },\n            placeholder: \"Translation will appear here...\",\n            showSpeaker: true,\n            onTouchStart: onTouchStart,\n            onTouchMove: onTouchMove,\n            onTouchEnd: onTouchEnd,\n            translations: translations,\n            currentIndex: currentIndex,\n            onPrevious: handlePrevious,\n            onNext: handleNext,\n            onClear: () => {\n              setTranslations([]);\n              setCurrentIndex(0);\n            },\n            language: targetLang,\n            selectedVoice: selectedVoices[targetLang],\n            isFixedSize: isFixedSize // Add this prop\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2287,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2274,\n          columnNumber: 21\n        }, this), error && /*#__PURE__*/_jsxDEV(Alert, {\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 2319,\n          columnNumber: 31\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col sm:flex-row justify-center gap-3\",\n          children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n            type: \"translate\",\n            onClick: () => handleTranslate(false),\n            disabled: !inputText,\n            isLoading: isLoading,\n            onCancel: handleCancelTranslation\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 2324,\n            columnNumber: 25\n          }, this), translatedText && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [/*#__PURE__*/_jsxDEV(ActionButton, {\n              type: \"copy\",\n              onClick: async () => {\n                try {\n                  await navigator.clipboard.writeText(translatedText);\n                  setCopySuccess(true);\n                  setTimeout(() => setCopySuccess(false), 2000);\n                } catch (err) {\n                  console.error('Failed to copy text:', err);\n                }\n              },\n              isActive: copySuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2334,\n              columnNumber: 33\n            }, this), /*#__PURE__*/_jsxDEV(ActionButton, {\n              type: \"save\",\n              onClick: handleSaveTranslation,\n              isActive: saveSuccess\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 2348,\n              columnNumber: 33\n            }, this)]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 2323,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 2223,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 2222,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 2107,\n    columnNumber: 9\n  }, this);\n};\n_s9(TranslatorApp, \"LVihby6qxOYxA2o+iQQLheLG/Ag=\");\n_c15 = TranslatorApp;\nexport default TranslatorApp;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c10, _c11, _c12, _c13, _c14, _c15;\n$RefreshReg$(_c, \"Alert\");\n$RefreshReg$(_c2, \"LanguageSelector\");\n$RefreshReg$(_c3, \"ToneSelector\");\n$RefreshReg$(_c4, \"VoiceSettingsModal\");\n$RefreshReg$(_c5, \"TextArea\");\n$RefreshReg$(_c6, \"DialogWrapper\");\n$RefreshReg$(_c7, \"InstructionsModal\");\n$RefreshReg$(_c8, \"RequestLogViewer\");\n$RefreshReg$(_c9, \"Sidebar\");\n$RefreshReg$(_c10, \"ConfirmDialog\");\n$RefreshReg$(_c11, \"SavedTranslationsDialog\");\n$RefreshReg$(_c12, \"HistoryPanel\");\n$RefreshReg$(_c13, \"ActionButton\");\n$RefreshReg$(_c14, \"SafetyWarningDialog\");\n$RefreshReg$(_c15, \"TranslatorApp\");","map":{"version":3,"names":["React","useState","useRef","useCallback","useEffect","X","FileText","Clipboard","ClipboardCheck","ClipboardCopy","MenuIcon","Settings","Volume2","History","Trash2","BookmarkIcon","Search","Folder","Check","ChevronLeft","ChevronRight","ArrowLeftRight","AlertTriangle","ChevronDown","Helmet","Navigate","MODELS","LANGUAGE_NAMES","TONES","LANGUAGE_VOICE_MAPPING","VOICE_OPTIONS","DEFAULT_INSTRUCTIONS","AVAILABLE_MODELS","MAX_HISTORY_ITEMS","MAX_SAVED_TRANSLATIONS","getToneInstructions","APP_VERSION","MIN_SECURE_VERSION","SettingsDialog","jsxDEV","_jsxDEV","Fragment","_Fragment","loadHistory","saveHistoryEnabled","JSON","parse","localStorage","getItem","saveHistoryToStorage","history","setItem","stringify","loadSavedTranslations","saveSavedTranslations","translations","Alert","children","className","role","fileName","_jsxFileName","lineNumber","columnNumber","_c","LanguageSelector","sourceLang","targetLang","onSourceChange","onTargetChange","inputText","translatedText","onInputTextChange","onTranslatedTextChange","onResetTranslations","languages","code","name","switchLanguages","isAutoDetect","value","onChange","e","target","dir","map","lang","onClick","disabled","title","filter","_c2","ToneSelector","selectedTone","onToneChange","selectedModel","_s","_modelTones$find","showToneSelector","setShowToneSelector","containerRef","handleClickOutside","event","current","contains","document","addEventListener","removeEventListener","modelTones","GEMINI","ref","find","t","id","tone","description","_c3","saveVoiceSettings","settings","VoiceSettingsModal","isOpen","onClose","selectedVoices","onVoiceChange","_s2","localVoices","setLocalVoices","handleReset","defaultVoices","handleSave","DialogWrapper","Object","entries","voices","prev","voice","_c4","TextArea","placeholder","readOnly","showSpeaker","maxLength","onClear","onTouchStart","onTouchMove","onTouchEnd","currentIndex","onPrevious","onNext","isOutput","language","selectedVoice","isFixedSize","_s3","textareaRef","resizeObserverRef","adjustmentTimeoutRef","audioRef","Audio","isSpeaking","setIsSpeaking","subscriptionKey","process","env","REACT_APP_AZURE_TTS_KEY","region","REACT_APP_AZURE_REGION","baseUrl","getAccessToken","response","fetch","method","headers","ok","Error","text","error","console","escapeXMLText","replace","handleSpeak","pause","currentTime","accessToken","langCode","split","slice","join","escapedText","ssml","body","status","statusText","audioBlob","blob","src","startsWith","URL","revokeObjectURL","audioUrl","createObjectURL","onended","onerror","playPromise","play","undefined","then","catch","currentAudioRef","adjustHeight","cancelAnimationFrame","requestAnimationFrame","textarea","scrollPos","window","scrollY","style","height","newHeight","Math","max","scrollHeight","overflowY","scrollTo","disconnect","ResizeObserver","observe","handleInput","newValue","length","handlePaste","pastedText","clipboardData","getData","availableSpace","selectionEnd","selectionStart","preventDefault","newText","handlePasteFromClipboard","navigator","clipboard","readText","err","shouldShowSpeaker","minWidth","onPaste","minHeight","paddingBottom","paddingRight","_c5","_s4","overflow","stopPropagation","_c6","InstructionsModal","modelInstructions","setModelInstructions","_s5","_currentModelTones$fi","showToneDropdown","setShowToneDropdown","selectedModelForInstructions","setSelectedModelForInstructions","selectedToneInstructions","setSelectedToneInstructions","isCurrentToneValid","_modelTones$","handleModelChange","newModel","_modelTones$2","currentModelTones","model","_c7","RequestLogViewer","requestLog","_c8","Sidebar","onOpenInstructions","onOpenSaved","onOpenRequestLog","onOpenHistory","onOpenVoiceSettings","onOpenSettings","onToggleFixedSize","_s6","_c9","ConfirmDialog","onConfirm","message","_c10","SavedTranslationsDialog","savedTranslations","onSelectSaved","onDeleteSaved","onClearAll","_s7","searchTerm","setSearchTerm","showConfirmDialog","setShowConfirmDialog","itemToDelete","setItemToDelete","handleClose","filteredTranslations","item","toLowerCase","includes","type","index","Date","timestamp","toLocaleString","_c11","HistoryPanel","onSelectHistory","onDeleteHistory","onClearHistory","_s8","_c12","ActionButton","isActive","isLoading","onCancel","getButtonContent","handleClick","_c13","SafetyWarningDialog","_c14","TranslatorApp","_s9","_localStorage$getItem","_translations$current","setInputText","setTranslations","setCurrentIndex","copySuccess","setCopySuccess","setIsLoading","setError","isSidebarOpen","setIsSidebarOpen","isHistoryOpen","setIsHistoryOpen","isInstructionsOpen","setIsInstructionsOpen","setSelectedModel","setHistory","setSavedTranslations","isSavedOpen","setIsSavedOpen","saveSuccess","setSaveSuccess","touchStart","setTouchStart","touchEnd","setTouchEnd","setRequestLog","isRequestLogOpen","setIsRequestLogOpen","setSourceLang","setTargetLang","showSafetyWarning","setShowSafetyWarning","setSelectedTone","isVoiceSettingsOpen","setIsVoiceSettingsOpen","setSelectedVoices","setMaxLength","parseInt","isSettingsOpen","setIsSettingsOpen","setIsFixedSize","translationController","setTranslationController","saveHistory","setSaveHistory","apiKeys","setApiKeys","gemini","openrouter","openai","savedFixedSize","handleApiKeysChange","newApiKeys","handleToggleFixedSize","isVersionSecure","currentVersion","minVersion","Number","min","i","removeItem","to","translateWithGemini","previousTranslations","signal","_data$candidates","_data$candidates$","_data$candidates$$con","_data$candidates$$con2","_data$candidates$$con3","basePreInstruction","postInstruction","toneInstructions","sourceLanguage","targetLanguage","prompt","instruction","forEach","trans","requestBody","contents","parts","messages","content","endpoint","data","json","candidates","translateWithOpenRouter","modelId","modelUrl","ANTHROPIC","location","origin","_data$choices$","_data$choices$$messag","choices","translateWithOpenAI","_data$choices$2","_data$choices$2$messa","OPENAI","temperature","max_tokens","validateLanguageSupport","supportedLanguages","deleteHistoryItem","newHistory","splice","clearAllHistory","handleSaveTranslation","newSavedTranslation","toISOString","updatedSavedTranslations","setTimeout","deleteSavedTranslation","newSavedTranslations","clearAllSavedTranslations","handlePrevious","handleNext","handleTranslate","isAdditional","controller","AbortController","translatedResult","COMMAND","handleCancelTranslation","abort","handleVoiceChange","newVoices","minSwipeDistance","targetTouches","clientX","distance","isLeftSwipe","isRightSwipe","handleClear","handleMaxLengthChange","newMaxLength","toString","PUBLIC_URL","onMaxLengthChange","onSaveHistoryChange","onApiKeysChange","href","updatedTranslations","writeText","_c15","$RefreshReg$"],"sources":["C:/Users/stork/Desktop/Coding/Flipify-Translator/src/TranslatorApp.js"],"sourcesContent":["import React, { useState, useRef, useCallback, useEffect } from 'react';\r\nimport {\r\n    X,\r\n    FileText,\r\n    Clipboard,\r\n    ClipboardCheck,\r\n    ClipboardCopy,\r\n    MenuIcon,\r\n    Settings,\r\n    Volume2,\r\n    History,\r\n    Trash2,\r\n    BookmarkIcon,\r\n    Search,\r\n    Folder,\r\n    Check,\r\n    ChevronLeft,\r\n    ChevronRight,\r\n    ArrowLeftRight,\r\n    AlertTriangle,\r\n    ChevronDown\r\n} from 'lucide-react';\r\nimport { Helmet } from 'react-helmet';\r\nimport { Navigate } from 'react-router-dom';\r\nimport {\r\n    MODELS,\r\n    LANGUAGE_NAMES,\r\n    TONES,\r\n    LANGUAGE_VOICE_MAPPING,\r\n    VOICE_OPTIONS,\r\n    DEFAULT_INSTRUCTIONS,\r\n    AVAILABLE_MODELS,\r\n    MAX_HISTORY_ITEMS,\r\n    MAX_SAVED_TRANSLATIONS,\r\n    getToneInstructions,\r\n    APP_VERSION,\r\n    MIN_SECURE_VERSION\r\n} from './constants/index.js';\r\nimport SettingsDialog from './components/dialogs/SettingsDialog.js';\r\n\r\n// History loading function - should respect the saveHistory setting\r\nconst loadHistory = (saveHistoryEnabled) => {\r\n    try {\r\n        // Only load history if the feature is enabled\r\n        if (saveHistoryEnabled) {\r\n            return JSON.parse(localStorage.getItem('translationHistory')) || [];\r\n        }\r\n        return [];\r\n    } catch {\r\n        return [];\r\n    }\r\n};\r\n\r\n// History saving function - should respect the saveHistory setting\r\nconst saveHistoryToStorage = (history, saveHistoryEnabled) => {\r\n    if (saveHistoryEnabled) {\r\n        localStorage.setItem('translationHistory', JSON.stringify(history));\r\n    }\r\n};\r\n\r\nconst loadSavedTranslations = () => {\r\n    try {\r\n        return JSON.parse(localStorage.getItem('savedTranslations')) || [];\r\n    } catch {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst saveSavedTranslations = (translations) => {\r\n    localStorage.setItem('savedTranslations', JSON.stringify(translations));\r\n};\r\n\r\n// Components\r\nconst Alert = ({ children }) => (\r\n    <div className=\"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative\" role=\"alert\">\r\n        <span className=\"block sm:inline\">{children}</span>\r\n    </div>\r\n);\r\n\r\nconst LanguageSelector = ({\r\n    sourceLang,\r\n    targetLang,\r\n    onSourceChange,\r\n    onTargetChange,\r\n    inputText,\r\n    translatedText,\r\n    onInputTextChange,\r\n    onTranslatedTextChange,\r\n    onResetTranslations\r\n}) => {\r\n    const languages = [\r\n        { code: 'auto', name: 'Auto Detect' },\r\n        { code: 'en', name: 'English' },\r\n        { code: 'fr', name: 'French / Français' },\r\n        { code: 'es', name: 'Spanish / Español' },\r\n        { code: 'it', name: 'Italian / Italiano' },\r\n        { code: 'de', name: 'German / Deutsch' },\r\n        { code: 'pt', name: 'Brazilian Portuguese / Português' },\r\n        { code: 'ja', name: 'Japanese / 日本語' },\r\n        { code: 'ko', name: 'Korean / 한국어' },\r\n        { code: 'zh', name: 'Simplified Chinese / 简体中文' },\r\n        { code: 'ar', name: 'Arabic / العربية' }\r\n    ];\r\n\r\n    const switchLanguages = () => {\r\n        // Basic language swap\r\n        onSourceChange(targetLang);\r\n        onTargetChange(sourceLang);\r\n\r\n        // Swap text content\r\n        onInputTextChange(translatedText);\r\n        onTranslatedTextChange(inputText);\r\n\r\n        // Reset translations\r\n        onResetTranslations();\r\n    };\r\n\r\n    const isAutoDetect = sourceLang === 'auto';\r\n\r\n    return (\r\n        <div className=\"flex items-center justify-between gap-2 mt-4 mb-2\">\r\n            <div className=\"flex-1\">\r\n                <select\r\n                    value={sourceLang}\r\n                    onChange={(e) => onSourceChange(e.target.value)}\r\n                    className=\"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-gray-500\"\r\n                    dir={sourceLang === 'ar' ? 'rtl' : 'ltr'}\r\n                >\r\n                    {languages.map(lang => (\r\n                        <option key={lang.code} value={lang.code}>\r\n                            {lang.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n\r\n            <button\r\n                onClick={switchLanguages}\r\n                disabled={isAutoDetect}\r\n                className={`p-2 rounded-full ${isAutoDetect\r\n                    ? 'text-gray-300 cursor-not-allowed'\r\n                    : 'hover:bg-gray-100 text-gray-600'\r\n                    }`}\r\n                title={isAutoDetect ? \"Language swap disabled during auto-detection\" : \"Switch languages\"}\r\n            >\r\n                <ArrowLeftRight className=\"w-5 h-5\" />\r\n            </button>\r\n\r\n            <div className=\"flex-1\">\r\n                <select\r\n                    value={targetLang}\r\n                    onChange={(e) => onTargetChange(e.target.value)}\r\n                    className=\"w-full p-2 border rounded-lg bg-white focus:ring-2 focus:ring-gray-500\"\r\n                    dir={targetLang === 'ar' ? 'rtl' : 'ltr'}\r\n                >\r\n                    {languages.filter(lang => lang.code !== 'auto').map(lang => (\r\n                        <option key={lang.code} value={lang.code}>\r\n                            {lang.name}\r\n                        </option>\r\n                    ))}\r\n                </select>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst ToneSelector = ({ selectedTone, onToneChange, selectedModel }) => {\r\n    const [showToneSelector, setShowToneSelector] = useState(false);\r\n    const containerRef = useRef(null);\r\n\r\n    useEffect(() => {\r\n        const handleClickOutside = (event) => {\r\n            if (containerRef.current && !containerRef.current.contains(event.target)) {\r\n                setShowToneSelector(false);\r\n            }\r\n        };\r\n\r\n        document.addEventListener('mousedown', handleClickOutside);\r\n        return () => document.removeEventListener('mousedown', handleClickOutside);\r\n    }, []);\r\n\r\n    // Get the tone list for the selected model\r\n    const modelTones = TONES[selectedModel] || TONES[MODELS.GEMINI];\r\n\r\n    return (\r\n        <div className=\"relative\" ref={containerRef}>\r\n            <button\r\n                onClick={() => setShowToneSelector(!showToneSelector)}\r\n                className=\"flex items-center gap-2 px-2 py-2 text-gray-600 hover:text-gray-800 \r\n                   hover:bg-gray-50 rounded-lg transition-colors\"\r\n            >\r\n                <Settings className=\"w-4 h-4\" />\r\n                <span>Tone: {modelTones.find(t => t.id === selectedTone)?.name}</span>\r\n            </button>\r\n\r\n            {showToneSelector && (\r\n                <div className=\"absolute top-full left-0 right-0 mt-1 bg-white border rounded-lg shadow-lg z-50\">\r\n                    {modelTones.map((tone) => (\r\n                        <button\r\n                            key={tone.id}\r\n                            onClick={() => {\r\n                                onToneChange(tone.id);\r\n                                setShowToneSelector(false);\r\n                            }}\r\n                            className={`w-full px-4 py-2 text-left hover:bg-gray-50 ${selectedTone === tone.id ? 'bg-gray-50' : ''\r\n                                }`}\r\n                        >\r\n                            <div className=\"font-medium\">{tone.name}</div>\r\n                            <div className=\"text-sm text-gray-500\">{tone.description}</div>\r\n                        </button>\r\n                    ))}\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst saveVoiceSettings = (settings) => {\r\n    localStorage.setItem('voiceSettings', JSON.stringify(settings));\r\n};\r\n\r\nconst VoiceSettingsModal = ({ isOpen, onClose, selectedVoices, onVoiceChange }) => {\r\n    const [localVoices, setLocalVoices] = useState(selectedVoices);\r\n\r\n    // Reset to defaults\r\n    const handleReset = () => {\r\n        const defaultVoices = {\r\n            'en': 'en-US-JennyNeural',\r\n            'ko': 'ko-KR-SunHiNeural',\r\n            'ja': 'ja-JP-NanamiNeural',\r\n            'zh': 'zh-CN-XiaoxiaoNeural',\r\n            'fr': 'fr-FR-DeniseNeural',\r\n            'es': 'es-ES-ElviraNeural',\r\n            'de': 'de-DE-KatjaNeural',\r\n            'it': 'it-IT-ElsaNeural',\r\n            'pt': 'pt-BR-FranciscaNeural',\r\n            'ar': 'ar-SA-ZariyahNeural'\r\n        };\r\n        setLocalVoices(defaultVoices);\r\n    };\r\n\r\n    // Save changes\r\n    const handleSave = () => {\r\n        onVoiceChange(localVoices);\r\n        onClose();\r\n    };\r\n\r\n    return (\r\n        <DialogWrapper isOpen={isOpen} onClose={onClose} className=\"w-full max-w-2xl max-h-[90vh] flex flex-col\">\r\n            <div className=\"flex-shrink-0 p-6 border-b\">\r\n                <div className=\"flex justify-between items-center\">\r\n                    <div>\r\n                        <h2 className=\"text-xl font-semibold\">Voice Settings</h2>\r\n                        <p className=\"text-sm text-gray-500 mt-1\">Select preferred voices for each language</p>\r\n                    </div>\r\n                    <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\r\n                        <X className=\"h-5 w-5\" />\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-6\">\r\n                <div className=\"space-y-6\">\r\n                    {Object.entries(VOICE_OPTIONS).map(([lang, voices]) => (\r\n                        <div key={lang} className=\"space-y-2\">\r\n                            <label className=\"block text-sm font-medium text-gray-700\">\r\n                                {LANGUAGE_NAMES[lang]}:\r\n                            </label>\r\n                            <select\r\n                                value={localVoices[lang] || ''}\r\n                                onChange={(e) => setLocalVoices(prev => ({\r\n                                    ...prev,\r\n                                    [lang]: e.target.value\r\n                                }))}\r\n                                className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-gray-500\"\r\n                            >\r\n                                {voices.map((voice) => (\r\n                                    <option key={voice.id} value={voice.id}>\r\n                                        {voice.name}\r\n                                    </option>\r\n                                ))}\r\n                            </select>\r\n                        </div>\r\n                    ))}\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"flex-shrink-0 p-6 border-t bg-white\">\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={handleReset}\r\n                        className=\"px-4 py-2 text-navy-500 hover:text-navy-600\"\r\n                    >\r\n                        Reset to Default\r\n                    </button>\r\n                    <button\r\n                        onClick={handleSave}\r\n                        className=\"px-4 py-2 bg-navy-500 text-white rounded-lg hover:bg-navy-600\"\r\n                    >\r\n                        Done\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </DialogWrapper>\r\n    );\r\n};\r\n\r\nconst TextArea = ({\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    readOnly = false,\r\n    className = '',\r\n    showSpeaker = false,\r\n    maxLength,\r\n    onClear,\r\n    onTouchStart,\r\n    onTouchMove,\r\n    onTouchEnd,\r\n    translations = [],\r\n    currentIndex = 0,\r\n    onPrevious,\r\n    onNext,\r\n    isOutput = false,\r\n    language = 'en',\r\n    selectedVoice,\r\n    isFixedSize = false\r\n}) => {\r\n    const textareaRef = useRef(null);\r\n    const resizeObserverRef = useRef(null);\r\n    const adjustmentTimeoutRef = useRef(null);\r\n    const audioRef = useRef(new Audio());\r\n    const [isSpeaking, setIsSpeaking] = useState(false);\r\n\r\n    // Azure TTS configuration\r\n    const subscriptionKey = process.env.REACT_APP_AZURE_TTS_KEY;\r\n    const region = process.env.REACT_APP_AZURE_REGION;\r\n    const baseUrl = `https://${region}.tts.speech.microsoft.com/cognitiveservices/v1`;\r\n\r\n    const getAccessToken = useCallback(async () => {\r\n        try {\r\n            const response = await fetch(\r\n                `https://${region}.api.cognitive.microsoft.com/sts/v1.0/issueToken`,\r\n                {\r\n                    method: 'POST',\r\n                    headers: {\r\n                        'Ocp-Apim-Subscription-Key': subscriptionKey\r\n                    }\r\n                }\r\n            );\r\n\r\n            if (!response.ok) throw new Error('Failed to get access token');\r\n            return await response.text();\r\n        } catch (error) {\r\n            console.error('Error getting Azure access token:', error);\r\n            throw error;\r\n        }\r\n    }, [region, subscriptionKey]); // Added missing dependencies\r\n\r\n    const escapeXMLText = useCallback((text) => {\r\n        return text\r\n            .replace(/&/g, '&amp;')\r\n            .replace(/</g, '&lt;')\r\n            .replace(/>/g, '&gt;')\r\n            .replace(/\"/g, '&quot;')\r\n            .replace(/'/g, '&apos;');\r\n    }, []);\r\n\r\n    const handleSpeak = useCallback(async () => {\r\n        if (!value || !subscriptionKey || !region) return;\r\n\r\n        if (isSpeaking) {\r\n            audioRef.current.pause();\r\n            audioRef.current.currentTime = 0;\r\n            setIsSpeaking(false);\r\n            return;\r\n        }\r\n\r\n        try {\r\n            const accessToken = await getAccessToken();\r\n            const voice = selectedVoice || LANGUAGE_VOICE_MAPPING[language];\r\n            const langCode = voice.split('-').slice(0, 2).join('-');\r\n\r\n            const escapedText = escapeXMLText(value);\r\n\r\n            const ssml = `\r\n                <speak version='1.0' xml:lang='${langCode}'>\r\n                    <voice name='${voice}'>\r\n                        <prosody rate=\"0.9\">\r\n                            ${escapedText}\r\n                        </prosody>\r\n                    </voice>\r\n                </speak>\r\n            `;\r\n\r\n            const response = await fetch(baseUrl, {\r\n                method: 'POST',\r\n                headers: {\r\n                    'Authorization': `Bearer ${accessToken}`,\r\n                    'Content-Type': 'application/ssml+xml',\r\n                    'X-Microsoft-OutputFormat': 'audio-24khz-160kbitrate-mono-mp3',\r\n                    'User-Agent': 'HoochooTranslator'\r\n                },\r\n                body: ssml\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`TTS request failed: ${response.status} ${response.statusText}`);\r\n            }\r\n\r\n            const audioBlob = await response.blob();\r\n\r\n            if (audioRef.current.src.startsWith('blob:')) {\r\n                URL.revokeObjectURL(audioRef.current.src);\r\n            }\r\n\r\n            const audioUrl = URL.createObjectURL(audioBlob);\r\n\r\n            audioRef.current.onended = () => {\r\n                setIsSpeaking(false);\r\n                URL.revokeObjectURL(audioUrl);\r\n            };\r\n\r\n            audioRef.current.onerror = (e) => {\r\n                console.error('Audio playback error:', e);\r\n                setIsSpeaking(false);\r\n                URL.revokeObjectURL(audioUrl);\r\n            };\r\n\r\n            audioRef.current.src = audioUrl;\r\n            const playPromise = audioRef.current.play();\r\n\r\n            if (playPromise !== undefined) {\r\n                playPromise\r\n                    .then(() => {\r\n                        setIsSpeaking(true);\r\n                    })\r\n                    .catch(error => {\r\n                        console.error('Playback error:', error);\r\n                        setIsSpeaking(false);\r\n                        URL.revokeObjectURL(audioUrl);\r\n                    });\r\n            }\r\n        } catch (error) {\r\n            console.error('Azure TTS error:', error);\r\n            setIsSpeaking(false);\r\n        }\r\n    }, [value, subscriptionKey, region, isSpeaking, baseUrl, language, selectedVoice, getAccessToken, escapeXMLText]);\r\n\r\n    // Cleanup audio on unmount\r\n    useEffect(() => {\r\n        const currentAudioRef = audioRef.current; // Store ref value\r\n\r\n        return () => {\r\n            if (currentAudioRef) {\r\n                currentAudioRef.pause();\r\n                currentAudioRef.src = '';\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    // Height adjustment logic\r\n    const adjustHeight = useCallback(() => {\r\n        if (!textareaRef.current || isFixedSize) return;  // Don't adjust height if fixed size\r\n\r\n        if (adjustmentTimeoutRef.current) {\r\n            cancelAnimationFrame(adjustmentTimeoutRef.current);\r\n        }\r\n\r\n        adjustmentTimeoutRef.current = requestAnimationFrame(() => {\r\n            const textarea = textareaRef.current;\r\n            if (!textarea) return;\r\n\r\n            const scrollPos = window.scrollY;\r\n            textarea.style.height = 'auto';\r\n            const newHeight = Math.max(192, textarea.scrollHeight);\r\n            textarea.style.height = `${newHeight}px`;\r\n            textarea.style.overflowY = textarea.scrollHeight <= newHeight ? 'hidden' : 'auto';\r\n            window.scrollTo(0, scrollPos);\r\n        });\r\n    }, [isFixedSize]);\r\n\r\n    // Initialize ResizeObserver\r\n    useEffect(() => {\r\n        if (!textareaRef.current) return;\r\n\r\n        if (resizeObserverRef.current) {\r\n            resizeObserverRef.current.disconnect();\r\n        }\r\n\r\n        resizeObserverRef.current = new ResizeObserver(() => {\r\n            requestAnimationFrame(adjustHeight);\r\n        });\r\n\r\n        resizeObserverRef.current.observe(textareaRef.current);\r\n\r\n        return () => {\r\n            if (resizeObserverRef.current) {\r\n                resizeObserverRef.current.disconnect();\r\n            }\r\n            if (adjustmentTimeoutRef.current) {\r\n                cancelAnimationFrame(adjustmentTimeoutRef.current);\r\n            }\r\n        };\r\n    }, [adjustHeight]);\r\n\r\n    useEffect(() => {\r\n        adjustHeight();\r\n    }, [value, adjustHeight]);\r\n\r\n    // Handle input/paste events\r\n    const handleInput = (e) => {\r\n        if (readOnly) return;\r\n\r\n        const newValue = e.target.value;\r\n        if (!maxLength || newValue.length <= maxLength) {\r\n            onChange(e);\r\n        }\r\n    };\r\n\r\n    // Handle paste event\r\n    const handlePaste = (e) => {\r\n        if (readOnly) return;\r\n\r\n        const pastedText = e.clipboardData.getData('text');\r\n        const availableSpace = maxLength - value.length + (e.target.selectionEnd - e.target.selectionStart);\r\n\r\n        if (pastedText.length > availableSpace) {\r\n            e.preventDefault();\r\n            const newText = value.slice(0, e.target.selectionStart) +\r\n                pastedText.slice(0, availableSpace) +\r\n                value.slice(e.target.selectionEnd);\r\n            onChange({ target: { value: newText } });\r\n        }\r\n    };\r\n\r\n    // Handle paste from clipboard button\r\n    const handlePasteFromClipboard = async () => {\r\n        try {\r\n            const text = await navigator.clipboard.readText();\r\n            const event = {\r\n                target: {\r\n                    value: text.slice(0, maxLength || text.length)\r\n                }\r\n            };\r\n            handleInput(event);\r\n        } catch (err) {\r\n            console.error('Failed to read clipboard:', err);\r\n        }\r\n    };\r\n\r\n    const shouldShowSpeaker = showSpeaker && value && language !== 'auto';\r\n\r\n    return (\r\n        <div className=\"relative flex-1\" style={{ minWidth: 0 }}>\r\n            <div className=\"relative rounded-lg border focus-within:ring-2 focus-within:ring-gray-600 focus-within:border-navy-600 transition-all bg-white overflow-hidden\">\r\n                {/* Clear button */}\r\n                {value && (\r\n                    <button\r\n                        onClick={onClear}\r\n                        className=\"absolute top-2 right-4 p-1.5 text-gray-400 hover:text-gray-600 \r\n                        hover:bg-gray-100 rounded-full transition-colors z-20\"\r\n                        title=\"Clear text\"\r\n                    >\r\n                        <X className=\"h-4 w-4\" />\r\n                    </button>\r\n                )}\r\n\r\n                {/* Paste button - only show if not output and no value */}\r\n                {!isOutput && !readOnly && !value && (\r\n                    <button\r\n                        onClick={handlePasteFromClipboard}\r\n                        className=\"absolute top-2 right-4 px-3 py-1.5 text-gray-600 hover:text-gray-800 \r\n                        hover:bg-gray-100 rounded-lg transition-colors z-20 flex items-center gap-2\"\r\n                        title=\"Paste from clipboard\"\r\n                    >\r\n                        <Clipboard className=\"h-4 w-4\" />\r\n                        <span className=\"text-sm font-medium\">Paste</span>\r\n                    </button>\r\n                )}\r\n\r\n                <div className=\"relative\">\r\n                    <textarea\r\n                        ref={textareaRef}\r\n                        value={value}\r\n                        onChange={handleInput}\r\n                        onPaste={handlePaste}\r\n                        placeholder={placeholder}\r\n                        readOnly={readOnly}\r\n                        className={`w-full px-4 py-4 text-lg resize-none rounded-lg \r\n                        focus:outline-none border-0 bg-white\r\n                        ${readOnly ? 'bg-gray-50' : ''} ${className}`}\r\n                        style={{\r\n                            height: isFixedSize ? '12rem' : undefined,  // Fixed height when isFixedSize is true\r\n                            minHeight: isFixedSize ? undefined : '12rem',\r\n                            overflowY: isFixedSize ? 'auto' : undefined,\r\n                            paddingBottom: translations.length > 0 ? '3.5rem' : '1rem',\r\n                            paddingRight: value ? '3rem' : '5rem',\r\n                        }}\r\n                        onTouchStart={onTouchStart}\r\n                        onTouchMove={onTouchMove}\r\n                        onTouchEnd={onTouchEnd}\r\n                    />\r\n\r\n                    {/* Translation navigation */}\r\n                    {translations.length > 0 && (\r\n                        <div className=\"absolute bottom-0 left-0 right-0 h-12 bg-white border-t flex items-center justify-between px-4\">\r\n                            <button\r\n                                onClick={onPrevious}\r\n                                className={`p-1.5 rounded-full hover:bg-gray-100 \r\n                                    ${currentIndex > 0 ? 'text-gray-500 hover:text-gray-700' : 'text-gray-300'}`}\r\n                                disabled={currentIndex === 0}\r\n                            >\r\n                                <ChevronLeft className=\"h-5 w-5\" />\r\n                            </button>\r\n\r\n                            <div className=\"text-sm text-gray-500\">\r\n                                {currentIndex + 1}/{translations.length}\r\n                            </div>\r\n\r\n                            <button\r\n                                onClick={onNext}\r\n                                className=\"p-1.5 rounded-full hover:bg-gray-100 text-gray-500 hover:text-gray-700\"\r\n                            >\r\n                                <ChevronRight className=\"h-5 w-5\" />\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n\r\n            {/* Bottom toolbar */}\r\n            <div className=\"h-8 mt-1 mb-4 relative flex items-center justify-between px-2\">\r\n                <div className=\"flex-shrink-0\">\r\n                    {shouldShowSpeaker && (\r\n                        <button\r\n                            onClick={handleSpeak}\r\n                            className={`text-gray-500 hover:text-gray-700 ${isSpeaking ? 'text-navy-500' : ''}`}\r\n                            title={isSpeaking ? \"Stop speaking\" : \"Text-to-speech\"}\r\n                        >\r\n                            <Volume2 className={`h-5 w-5 ${isSpeaking ? 'animate-pulse' : ''}`} />\r\n                        </button>\r\n                    )}\r\n                    {showSpeaker && value && language === 'auto' && (\r\n                        <span className=\"text-sm text-gray-400 italic\">\r\n                            TTS not available in auto-detect mode\r\n                        </span>\r\n                    )}\r\n                </div>\r\n\r\n                <div className=\"flex-shrink-0 text-sm text-gray-500\">\r\n                    {value.length}{!isOutput && maxLength && `/${maxLength}`}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\n// Reusable Dialog Wrapper Component\r\nconst DialogWrapper = ({ isOpen, onClose, children, className = '' }) => {\r\n    React.useEffect(() => {\r\n        if (isOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\r\n            onClick={onClose}\r\n        >\r\n            <div\r\n                className={`bg-white rounded-lg ${className}`}\r\n                onClick={e => e.stopPropagation()}\r\n            >\r\n                {children}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst InstructionsModal = ({ \r\n    isOpen, \r\n    onClose, \r\n    modelInstructions, \r\n    selectedModel, \r\n    setModelInstructions, \r\n    selectedTone \r\n  }) => {\r\n    const [showToneDropdown, setShowToneDropdown] = useState(false);\r\n    const [selectedModelForInstructions, setSelectedModelForInstructions] = useState(selectedModel);\r\n    const [selectedToneInstructions, setSelectedToneInstructions] = useState(selectedTone);\r\n    \r\n    // Update selected model and tone when the modal opens or selected model changes\r\n    useEffect(() => {\r\n      setSelectedModelForInstructions(selectedModel);\r\n      // Find a valid tone for the selected model\r\n      const modelTones = TONES[selectedModel] || TONES[MODELS.GEMINI];\r\n      const isCurrentToneValid = modelTones.find(t => t.id === selectedTone);\r\n      if (!isCurrentToneValid) {\r\n        setSelectedToneInstructions(modelTones[0]?.id || 'standard');\r\n      } else {\r\n        setSelectedToneInstructions(selectedTone);\r\n      }\r\n    }, [selectedModel, selectedTone, isOpen]);\r\n  \r\n    const handleModelChange = (newModel) => {\r\n      setSelectedModelForInstructions(newModel);\r\n      // Reset tone to first available tone for new model\r\n      const modelTones = TONES[newModel] || TONES[MODELS.GEMINI];\r\n      setSelectedToneInstructions(modelTones[0]?.id || 'standard');\r\n    };\r\n  \r\n    const handleReset = () => {\r\n      setModelInstructions({\r\n        ...modelInstructions,\r\n        [selectedModelForInstructions]: modelInstructions[selectedModelForInstructions]\r\n      });\r\n    };\r\n  \r\n    if (!isOpen) return null;\r\n  \r\n    const currentModelTones = TONES[selectedModelForInstructions] || TONES[MODELS.GEMINI];\r\n  \r\n    return (\r\n      <div className=\"fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50\">\r\n        <div className=\"bg-white rounded-lg w-full max-w-2xl max-h-[90vh] flex flex-col\">\r\n          {/* Header */}\r\n          <div className=\"p-6 border-b\">\r\n            <div className=\"flex justify-between items-center\">\r\n              <div>\r\n                <h2 className=\"text-xl font-semibold\">Instructions Settings</h2>\r\n                <p className=\"text-sm text-gray-500 mt-1\">Configure translation instructions</p>\r\n              </div>\r\n              <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\r\n                <X className=\"h-5 w-5\" />\r\n              </button>\r\n            </div>\r\n          </div>\r\n  \r\n          {/* Content */}\r\n          <div className=\"flex-1 overflow-y-auto p-6\">\r\n            <div className=\"space-y-6\">\r\n              {/* Model Selection */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  AI Model:\r\n                </label>\r\n                <select\r\n                  value={selectedModelForInstructions}\r\n                  onChange={(e) => handleModelChange(e.target.value)}\r\n                  className=\"w-full p-2 border rounded-lg focus:ring-2 focus:ring-gray-500\"\r\n                >\r\n                  {AVAILABLE_MODELS.map((model) => (\r\n                    <option key={model.id} value={model.id}>\r\n                      {model.name}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n  \r\n              {/* Tone Selection */}\r\n              <div className=\"space-y-2\">\r\n                <label className=\"block text-sm font-medium text-gray-700\">\r\n                  Translation Tone:\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <button\r\n                    onClick={() => setShowToneDropdown(!showToneDropdown)}\r\n                    className=\"w-full px-4 py-2 text-left border rounded-lg bg-white flex justify-between items-center hover:bg-gray-50\"\r\n                  >\r\n                    <span>\r\n                      {currentModelTones.find(t => t.id === selectedToneInstructions)?.name || 'Standard'}\r\n                    </span>\r\n                    <ChevronDown className=\"h-4 w-4\" />\r\n                  </button>\r\n                  \r\n                  {showToneDropdown && (\r\n                    <div className=\"absolute z-10 w-full mt-1 bg-white border rounded-lg shadow-lg\">\r\n                      {currentModelTones.map((tone) => (\r\n                        <button\r\n                          key={tone.id}\r\n                          onClick={() => {\r\n                            setSelectedToneInstructions(tone.id);\r\n                            setShowToneDropdown(false);\r\n                          }}\r\n                          className=\"w-full px-4 py-2 text-left hover:bg-gray-50 first:rounded-t-lg last:rounded-b-lg\"\r\n                        >\r\n                          <div className=\"font-medium\">{tone.name}</div>\r\n                          <div className=\"text-sm text-gray-500\">{tone.description}</div>\r\n                        </button>\r\n                      ))}\r\n                    </div>\r\n                  )}\r\n                </div>\r\n              </div>\r\n  \r\n              {/* Pre-translation Instructions */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Pre-translation Instructions:\r\n                </label>\r\n                <textarea\r\n                  value={modelInstructions[selectedModelForInstructions]['pre-instruction']}\r\n                  onChange={(e) => setModelInstructions({\r\n                    ...modelInstructions,\r\n                    [selectedModelForInstructions]: {\r\n                      ...modelInstructions[selectedModelForInstructions],\r\n                      'pre-instruction': e.target.value\r\n                    }\r\n                  })}\r\n                  className=\"w-full h-32 p-2 border rounded-lg focus:ring-2 focus:ring-gray-500 resize-none\"\r\n                />\r\n              </div>\r\n  \r\n              {/* Tone Instructions */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Tone-specific Instructions:\r\n                </label>\r\n                <textarea\r\n                  value={modelInstructions[selectedModelForInstructions]['tone-instructions'][selectedToneInstructions]}\r\n                  onChange={(e) => setModelInstructions({\r\n                    ...modelInstructions,\r\n                    [selectedModelForInstructions]: {\r\n                      ...modelInstructions[selectedModelForInstructions],\r\n                      'tone-instructions': {\r\n                        ...modelInstructions[selectedModelForInstructions]['tone-instructions'],\r\n                        [selectedToneInstructions]: e.target.value\r\n                      }\r\n                    }\r\n                  })}\r\n                  className=\"w-full h-32 p-2 border rounded-lg focus:ring-2 focus:ring-gray-500 resize-none\"\r\n                />\r\n              </div>\r\n  \r\n              {/* Post-translation Instructions */}\r\n              <div>\r\n                <label className=\"block text-sm font-medium text-gray-700 mb-1\">\r\n                  Post-translation Instructions:\r\n                </label>\r\n                <textarea\r\n                  value={modelInstructions[selectedModelForInstructions]['post-instruction']}\r\n                  onChange={(e) => setModelInstructions({\r\n                    ...modelInstructions,\r\n                    [selectedModelForInstructions]: {\r\n                      ...modelInstructions[selectedModelForInstructions],\r\n                      'post-instruction': e.target.value\r\n                    }\r\n                  })}\r\n                  className=\"w-full h-32 p-2 border rounded-lg focus:ring-2 focus:ring-gray-500 resize-none\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n  \r\n          {/* Footer */}\r\n          <div className=\"p-6 border-t bg-white\">\r\n            <div className=\"flex justify-end space-x-3\">\r\n              <button\r\n                onClick={handleReset}\r\n                className=\"px-4 py-2 text-gray-600 hover:text-gray-800\"\r\n              >\r\n                Reset to Default\r\n              </button>\r\n              <button\r\n                onClick={onClose}\r\n                className=\"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700\"\r\n              >\r\n                Done\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\nconst RequestLogViewer = ({ isOpen, onClose, requestLog }) => {\r\n    return (\r\n        <DialogWrapper isOpen={isOpen} onClose={onClose} className=\"w-full max-w-2xl max-h-[80vh] flex flex-col\">\r\n            <div className=\"p-4 border-b flex items-center justify-between\">\r\n                <h2 className=\"text-xl font-semibold\">Last API Request</h2>\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"text-gray-500 hover:text-gray-700 transition-colors\"\r\n                >\r\n                    <X className=\"h-5 w-5\" />\r\n                </button>\r\n            </div>\r\n\r\n            <div className=\"flex-1 overflow-y-auto p-4\">\r\n                {requestLog ? (\r\n                    <pre className=\"whitespace-pre-wrap bg-gray-50 p-4 rounded-lg text-sm font-mono\">\r\n                        {JSON.stringify(requestLog, null, 2)}\r\n                    </pre>\r\n                ) : (\r\n                    <div className=\"text-center text-gray-500 py-8\">\r\n                        <FileText className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\r\n                        <p>No request log available</p>\r\n                    </div>\r\n                )}\r\n            </div>\r\n        </DialogWrapper>\r\n    );\r\n};\r\n\r\nconst Sidebar = ({\r\n    isOpen,\r\n    onClose,\r\n    onOpenInstructions,\r\n    onOpenSaved,\r\n    onOpenRequestLog,\r\n    onOpenHistory,\r\n    onOpenVoiceSettings,\r\n    onOpenSettings,\r\n    isFixedSize,\r\n    onToggleFixedSize\r\n}) => {\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={`fixed inset-0 bg-black transition-opacity duration-300 z-20 \r\n                ${isOpen ? 'opacity-50' : 'opacity-0 pointer-events-none'}`}\r\n                onClick={onClose}\r\n            />\r\n\r\n            <div\r\n                className={`fixed left-0 top-0 h-full w-64 bg-white shadow-lg transform \r\n                transition-transform duration-300 ease-in-out z-30 flex flex-col overflow-hidden\r\n                ${isOpen ? 'translate-x-0' : '-translate-x-full'}`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-4 border-b flex-shrink-0\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <h2 className=\"text-xl font-semibold\">Menu</h2>\r\n                        <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\r\n                            <X className=\"h-5 w-5\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex-1 overflow-y-auto overscroll-contain p-4\">\r\n                    <div className=\"space-y-2\">\r\n                        {/* Add the toggle button for fixed size */}\r\n                        <div className=\"flex items-center justify-between px-4 py-2\">\r\n                            <span className=\"text-sm\">Fixed Size Text Areas</span>\r\n                            <button\r\n                                onClick={() => {\r\n                                    onToggleFixedSize();\r\n                                }}\r\n                                className={`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${isFixedSize ? 'bg-navy-500' : 'bg-gray-200'\r\n                                    }`}\r\n                            >\r\n                                <span\r\n                                    className={`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${isFixedSize ? 'translate-x-6' : 'translate-x-1'\r\n                                        }`}\r\n                                />\r\n                            </button>\r\n                        </div>\r\n\r\n                        {/* Existing buttons */}\r\n                        <button\r\n                            onClick={() => {\r\n                                onOpenHistory();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\"\r\n                        >\r\n                            <History className=\"h-4 w-4 mr-2\" />\r\n                            Translation History\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                onOpenSaved();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\"\r\n                        >\r\n                            <BookmarkIcon className=\"h-4 w-4 mr-2\" />\r\n                            Saved Translations\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                onOpenVoiceSettings();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\"\r\n                        >\r\n                            <Volume2 className=\"h-4 w-4 mr-2\" />\r\n                            Voice Settings\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                onOpenInstructions();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\"\r\n                        >\r\n                            <Settings className=\"h-4 w-4 mr-2\" />\r\n                            Instructions\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                onOpenRequestLog();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\"\r\n                        >\r\n                            <FileText className=\"h-4 w-4 mr-2\" />\r\n                            Last API Request\r\n                        </button>\r\n\r\n                        <button\r\n                            onClick={() => {\r\n                                onOpenSettings();\r\n                                onClose();\r\n                            }}\r\n                            className=\"w-full text-left px-4 py-2 hover:bg-gray-100 rounded-lg flex items-center transition-colors\"\r\n                        >\r\n                            <Settings className=\"h-4 w-4 mr-2\" />\r\n                            Settings\r\n                        </button>\r\n\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nconst ConfirmDialog = ({ isOpen, onClose, onConfirm, title, message }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6\">\r\n                <h3 className=\"text-lg font-semibold mb-2\">{title}</h3>\r\n                <p className=\"text-gray-600 mb-6\">{message}</p>\r\n                <div className=\"flex justify-end space-x-3\">\r\n                    <button\r\n                        onClick={onClose}\r\n                        className=\"px-4 py-2 rounded-lg border border-gray-200 hover:bg-gray-50\"\r\n                    >\r\n                        Cancel\r\n                    </button>\r\n                    <button\r\n                        onClick={() => {\r\n                            onConfirm();\r\n                            onClose();\r\n                        }}\r\n                        className=\"px-4 py-2 rounded-lg bg-red-500 text-white hover:bg-red-600\"\r\n                    >\r\n                        Confirm\r\n                    </button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SavedTranslationsDialog = ({ isOpen, onClose, savedTranslations, onSelectSaved, onDeleteSaved, onClearAll }) => {\r\n    const [searchTerm, setSearchTerm] = useState('');\r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n    const [itemToDelete, setItemToDelete] = useState(null);\r\n\r\n    // Reset search when dialog is opened\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            setSearchTerm('');\r\n        }\r\n    }, [isOpen]);\r\n\r\n    if (!isOpen) return null;\r\n\r\n    const handleClose = () => {\r\n        setSearchTerm('');\r\n        setShowConfirmDialog(false);\r\n        setItemToDelete(null);\r\n        onClose();\r\n    };\r\n\r\n    const filteredTranslations = savedTranslations.filter(item =>\r\n        item.inputText.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n        item.translatedText.toLowerCase().includes(searchTerm.toLowerCase())\r\n    );\r\n\r\n    return (\r\n        <div\r\n            className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\"\r\n            onClick={handleClose}\r\n        >\r\n            <div\r\n                className=\"bg-white rounded-lg w-full max-w-3xl max-h-[80vh] flex flex-col\"\r\n                onClick={e => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-4 border-b flex items-center justify-between\">\r\n                    <h2 className=\"text-xl font-semibold\">Saved Translations</h2>\r\n                    <button\r\n                        onClick={handleClose}\r\n                        className=\"text-gray-500 hover:text-gray-700 transition-colors\"\r\n                    >\r\n                        <X className=\"h-5 w-5\" />\r\n                    </button>\r\n                </div>\r\n\r\n                <div className=\"p-4 border-b\">\r\n                    <div className=\"relative\">\r\n                        <input\r\n                            type=\"text\"\r\n                            placeholder=\"Search translations...\"\r\n                            value={searchTerm}\r\n                            onChange={(e) => setSearchTerm(e.target.value)}\r\n                            className=\"w-full pl-10 pr-4 py-2 border rounded-lg focus:ring-3 focus:ring-gray-500\"\r\n                        />\r\n                        <Search className=\"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-gray-400\" />\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex-1 overflow-y-auto p-4\">\r\n                    {savedTranslations.length === 0 ? (\r\n                        <div className=\"text-center text-gray-500 py-8\">\r\n                            <Folder className=\"h-12 w-12 mx-auto mb-3 text-gray-400\" />\r\n                            <p>No saved translations yet</p>\r\n                        </div>\r\n                    ) : filteredTranslations.length === 0 ? (\r\n                        <div className=\"text-center text-gray-500 py-8\">\r\n                            <p>No translations match your search</p>\r\n                        </div>\r\n                    ) : (\r\n                        <div className=\"space-y-4\">\r\n                            {filteredTranslations.map((item, index) => (\r\n                                <div\r\n                                    key={index}\r\n                                    className=\"border rounded-lg p-4 hover:bg-gray-50 transition-colors group relative\"\r\n                                >\r\n                                    <div className=\"mb-2 flex justify-between items-start\">\r\n                                        <span className=\"text-sm text-gray-500\">\r\n                                            {new Date(item.timestamp).toLocaleString()}\r\n                                        </span>\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                setItemToDelete(index);\r\n                                                setShowConfirmDialog(true);\r\n                                            }}\r\n                                            className=\"text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity\"\r\n                                        >\r\n                                            <Trash2 className=\"h-4 w-4\" />\r\n                                        </button>\r\n                                    </div>\r\n                                    <div className=\"space-y-2\">\r\n                                        <div>\r\n                                            <div className=\"text-xs font-medium text-gray-500 mb-1\">Original:</div>\r\n                                            <div className=\"text-sm\">{item.inputText}</div>\r\n                                        </div>\r\n                                        <div>\r\n                                            <div className=\"text-xs font-medium text-gray-500 mb-1\">Translation:</div>\r\n                                            <div className=\"text-sm\">{item.translatedText}</div>\r\n                                        </div>\r\n                                    </div>\r\n                                    <div className=\"mt-3 flex justify-end\">\r\n                                        <button\r\n                                            onClick={() => {\r\n                                                onSelectSaved(item);\r\n                                                onClose();\r\n                                            }}\r\n                                            className=\"text-sm text-blue-500 hover:text-blue-600\"\r\n                                        >\r\n                                            Load translation\r\n                                        </button>\r\n                                    </div>\r\n                                </div>\r\n                            ))}\r\n                        </div>\r\n                    )}\r\n                </div>\r\n\r\n                {savedTranslations.length > 0 && (\r\n                    <div className=\"p-4 border-t\">\r\n                        <button\r\n                            onClick={() => setShowConfirmDialog(true)}\r\n                            className=\"text-red-500 hover:text-red-600 text-sm\"\r\n                        >\r\n                            Clear all saved translations\r\n                        </button>\r\n                    </div>\r\n                )}\r\n            </div>\r\n\r\n            {showConfirmDialog && (\r\n                <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n                    <div className=\"bg-white rounded-lg p-6 max-w-md w-full\">\r\n                        <h3 className=\"text-lg font-semibold mb-2\">\r\n                            {itemToDelete !== null ? \"Delete Translation\" : \"Clear All Translations\"}\r\n                        </h3>\r\n                        <p className=\"text-gray-600 mb-6\">\r\n                            {itemToDelete !== null\r\n                                ? \"Are you sure you want to delete this translation?\"\r\n                                : \"Are you sure you want to clear all saved translations? This action cannot be undone.\"}\r\n                        </p>\r\n                        <div className=\"flex justify-end space-x-3\">\r\n                            <button\r\n                                onClick={() => {\r\n                                    setShowConfirmDialog(false);\r\n                                    setItemToDelete(null);\r\n                                }}\r\n                                className=\"px-4 py-2 text-gray-500 hover:text-gray-700\"\r\n                            >\r\n                                Cancel\r\n                            </button>\r\n                            <button\r\n                                onClick={() => {\r\n                                    if (itemToDelete !== null) {\r\n                                        onDeleteSaved(itemToDelete);\r\n                                    } else {\r\n                                        onClearAll();\r\n                                    }\r\n                                    setShowConfirmDialog(false);\r\n                                    setItemToDelete(null);\r\n                                }}\r\n                                className=\"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600\"\r\n                            >\r\n                                Confirm\r\n                            </button>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst HistoryPanel = ({ isOpen, onClose, history, onSelectHistory, onDeleteHistory, onClearHistory }) => {\r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n    const [itemToDelete, setItemToDelete] = useState(null);\r\n\r\n    useEffect(() => {\r\n        if (isOpen) {\r\n            document.body.style.overflow = 'hidden';\r\n        } else {\r\n            document.body.style.overflow = 'unset';\r\n        }\r\n        return () => {\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [isOpen]);\r\n\r\n    return (\r\n        <>\r\n            <div\r\n                className={`fixed inset-0 bg-black bg-opacity-50 transition-opacity z-20 ${isOpen ? 'opacity-100' : 'opacity-0 pointer-events-none'}`}\r\n                onClick={onClose}\r\n            />\r\n            <div\r\n                className={`fixed right-0 top-0 h-full w-80 bg-white shadow-lg transform \r\n          transition-transform z-30 ${isOpen ? 'translate-x-0' : 'translate-x-full'}\r\n          flex flex-col overflow-hidden`}\r\n                onClick={(e) => e.stopPropagation()}\r\n            >\r\n                <div className=\"p-4 border-b flex-shrink-0\">\r\n                    <div className=\"flex justify-between items-center\">\r\n                        <h2 className=\"text-xl font-semibold\">Translation History</h2>\r\n                        <button onClick={onClose} className=\"text-gray-500 hover:text-gray-700\">\r\n                            <X className=\"h-5 w-5\" />\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n\r\n                <div className=\"flex-1 overflow-y-auto overscroll-contain p-4\">\r\n                    <div className=\"space-y-4\">\r\n                        {history.length > 0 && (\r\n                            <button\r\n                                onClick={() => setShowConfirmDialog(true)}\r\n                                className=\"w-full px-4 py-2 text-red-600 border border-red-200 rounded-lg hover:bg-red-50 transition-colors mb-4\"\r\n                            >\r\n                                Clear All History\r\n                            </button>\r\n                        )}\r\n\r\n                        {history.map((item, index) => (\r\n                            <div\r\n                                key={index}\r\n                                className=\"p-3 border rounded-lg hover:bg-gray-50 relative group\"\r\n                            >\r\n                                <div\r\n                                    className=\"cursor-pointer\"\r\n                                    onClick={() => onSelectHistory(item)}\r\n                                >\r\n                                    <div className=\"text-sm font-medium text-gray-600 mb-1\">\r\n                                        {new Date(item.timestamp).toLocaleString()}\r\n                                    </div>\r\n                                    <div className=\"text-sm text-gray-500 truncate pr-8\">\r\n                                        {item.inputText}\r\n                                    </div>\r\n                                </div>\r\n                                <button\r\n                                    onClick={() => {\r\n                                        setItemToDelete(index);\r\n                                        setShowConfirmDialog(true);\r\n                                    }}\r\n                                    className=\"absolute right-2 top-1/2 -translate-y-1/2 p-1.5 text-gray-400 \r\n                                    hover:text-red-500 opacity-0 group-hover:opacity-100 transition-all\"\r\n                                    title=\"Delete entry\"\r\n                                >\r\n                                    <Trash2 className=\"h-4 w-4\" />\r\n                                </button>\r\n                            </div>\r\n                        ))}\r\n                        {history.length === 0 && (\r\n                            <div className=\"text-center text-gray-500 py-4\">\r\n                                No translation history yet\r\n                            </div>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <ConfirmDialog\r\n                isOpen={showConfirmDialog}\r\n                onClose={() => {\r\n                    setShowConfirmDialog(false);\r\n                    setItemToDelete(null);\r\n                }}\r\n                onConfirm={() => {\r\n                    if (itemToDelete !== null) {\r\n                        onDeleteHistory(itemToDelete);\r\n                    } else {\r\n                        onClearHistory();\r\n                    }\r\n                }}\r\n                title={itemToDelete !== null ? \"Delete Entry\" : \"Clear Translation History\"}\r\n                message={\r\n                    itemToDelete !== null\r\n                        ? \"Are you sure you want to delete this translation entry?\"\r\n                        : \"Are you sure you want to clear all translation history? This action cannot be undone.\"\r\n                }\r\n            />\r\n        </>\r\n    );\r\n};\r\n\r\nconst ActionButton = ({\r\n    type,\r\n    onClick,\r\n    isActive = false,\r\n    isLoading = false,\r\n    disabled = false,\r\n    onCancel\r\n}) => {\r\n    const getButtonContent = () => {\r\n        switch (type) {\r\n            case 'translate':\r\n                return (\r\n                    <>\r\n                        <ArrowLeftRight className={`h-4 w-4 mr-2 ${isLoading ? 'animate-spin' : ''}`} />\r\n                        <span className=\"min-w-[60px] sm:min-w-[80px]\">\r\n                            {isLoading ? 'Translating...' : 'Translate'}\r\n                        </span>\r\n                    </>\r\n                );\r\n            case 'copy':\r\n                return (\r\n                    <>\r\n                        {isActive ? (\r\n                            <ClipboardCheck className=\"h-4 w-4 mr-2 text-white\" />\r\n                        ) : (\r\n                            <ClipboardCopy className=\"h-4 w-4 mr-2\" />\r\n                        )}\r\n                        <span className=\"min-w-[40px] sm:min-w-[80px]\">\r\n                            {isActive ? 'Copied!' : 'Copy'}\r\n                        </span>\r\n                    </>\r\n                );\r\n            case 'save':\r\n                return (\r\n                    <>\r\n                        {isActive ? (\r\n                            <Check className=\"h-4 w-4 mr-2\" />\r\n                        ) : (\r\n                            <BookmarkIcon className=\"h-4 w-4 mr-2\" />\r\n                        )}\r\n                        <span className=\"min-w-[40px] sm:min-w-[80px]\">\r\n                            {isActive ? 'Saved!' : 'Save'}\r\n                        </span>\r\n                    </>\r\n                );\r\n            default:\r\n                return null;\r\n        }\r\n    };\r\n\r\n    const handleClick = () => {\r\n        if (type === 'translate' && isLoading) {\r\n            onCancel?.();\r\n        } else {\r\n            onClick?.();\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"flex flex-col items-center\">\r\n            <button\r\n                onClick={handleClick}\r\n                disabled={disabled && !isLoading}\r\n                className={`\r\n                    px-4 sm:px-6 py-2 rounded-lg flex items-center justify-center\r\n                    w-full sm:w-auto sm:min-w-[140px] md:min-w-[160px] \r\n                    transition-all duration-300 relative overflow-hidden\r\n                    ${type === 'translate'\r\n                        ? (disabled && !isLoading\r\n                            ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\r\n                            : 'bg-navy-500 text-white hover:bg-navy-600')\r\n                        : isActive\r\n                            ? 'bg-navy-500 text-white'\r\n                            : 'bg-gray-100 hover:bg-gray-200 text-gray-700'\r\n                    }\r\n                `}\r\n            >\r\n                <div className=\"relative flex items-center justify-center\">\r\n                    {getButtonContent()}\r\n                </div>\r\n            </button>\r\n\r\n            {/* Cancel instruction */}\r\n            {isLoading && type === 'translate' && (\r\n                <div className=\"mt-2 text-sm text-gray-600\">\r\n                    Tap again to cancel\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nconst SafetyWarningDialog = ({ isOpen, onClose }) => {\r\n    if (!isOpen) return null;\r\n\r\n    return (\r\n        <div className=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\r\n            <div className=\"bg-white rounded-lg max-w-md w-full p-6 relative animate-fade-in\">\r\n                <button\r\n                    onClick={onClose}\r\n                    className=\"absolute right-4 top-4 text-gray-500 hover:text-gray-700 rounded-full p-1 hover:bg-gray-100 transition-colors\"\r\n                    aria-label=\"Close dialog\"\r\n                >\r\n                    <X className=\"h-5 w-5\" />\r\n                </button>\r\n\r\n                <div className=\"flex items-start space-x-4\">\r\n                    <div className=\"flex-shrink-0 bg-yellow-50 rounded-full p-2\">\r\n                        <AlertTriangle className=\"h-6 w-6 text-yellow-500\" />\r\n                    </div>\r\n\r\n                    <div className=\"flex-1\">\r\n                        <h3 className=\"text-lg font-semibold text-gray-900 mb-2\">\r\n                            Content Warning\r\n                        </h3>\r\n\r\n                        <p className=\"text-gray-600 mb-4\">\r\n                            The translation request was blocked due to potentially inappropriate content. Please review your text and try again with appropriate content.\r\n                        </p>\r\n\r\n                        <div className=\"bg-yellow-50 border border-yellow-200 rounded-lg p-4 mb-4\">\r\n                            <div className=\"font-medium text-yellow-800 mb-1\">Note</div>\r\n                            <div className=\"text-yellow-700 text-sm\">\r\n                                Our translation service maintains certain content standards to ensure safe and respectful communication.\r\n                            </div>\r\n                        </div>\r\n\r\n                        <button\r\n                            onClick={onClose}\r\n                            className=\"w-full bg-gray-100 hover:bg-gray-200 text-gray-900 font-medium py-2 px-4 rounded-lg transition-colors\"\r\n                        >\r\n                            Got it\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nconst TranslatorApp = () => {\r\n    // All hooks declarations\r\n    const [inputText, setInputText] = useState('');\r\n    const [translations, setTranslations] = useState([]); // Array of translations\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [copySuccess, setCopySuccess] = useState(false);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState('');\r\n    const [isSidebarOpen, setIsSidebarOpen] = useState(false);\r\n    const [isHistoryOpen, setIsHistoryOpen] = useState(false);\r\n    const [isInstructionsOpen, setIsInstructionsOpen] = useState(false);\r\n    const [selectedModel, setSelectedModel] = useState(MODELS.GEMINI);\r\n    const [modelInstructions, setModelInstructions] = useState(DEFAULT_INSTRUCTIONS);\r\n    const [history, setHistory] = useState([]);\r\n    const [savedTranslations, setSavedTranslations] = useState([]);\r\n    const [isSavedOpen, setIsSavedOpen] = useState(false);\r\n    const [saveSuccess, setSaveSuccess] = useState(false);\r\n    const [touchStart, setTouchStart] = useState(null);\r\n    const [touchEnd, setTouchEnd] = useState(null);\r\n    const [requestLog, setRequestLog] = useState(null);\r\n    const [isRequestLogOpen, setIsRequestLogOpen] = useState(false);\r\n    const [sourceLang, setSourceLang] = useState('auto');\r\n    const [targetLang, setTargetLang] = useState('en');\r\n    const [showSafetyWarning, setShowSafetyWarning] = useState(false);\r\n    const [selectedTone, setSelectedTone] = useState('standard');\r\n    const [isVoiceSettingsOpen, setIsVoiceSettingsOpen] = useState(false);\r\n    const [selectedVoices, setSelectedVoices] = useState({\r\n        'en': 'en-US-AriaNeural',\r\n        'ko': 'ko-KR-SunHiNeural',\r\n        'ja': 'ja-JP-NanamiNeural',\r\n        'zh': 'zh-CN-XiaoxiaoNeural',\r\n        'fr': 'fr-FR-DeniseNeural',\r\n        'es': 'es-ES-ElviraNeural',\r\n        'de': 'de-DE-KatjaNeural',\r\n        'it': 'it-IT-ElsaNeural',\r\n        'pt': 'pt-BR-FranciscaNeural',\r\n        'ar': 'ar-SA-ZariyahNeural'\r\n    });\r\n    const [maxLength, setMaxLength] = useState(parseInt(localStorage.getItem('maxInputLength')) || 5000);\r\n    const [isSettingsOpen, setIsSettingsOpen] = useState(false);\r\n    const [isFixedSize, setIsFixedSize] = useState(false);\r\n    const [translationController, setTranslationController] = useState(null);\r\n    const [saveHistory, setSaveHistory] = useState(\r\n        JSON.parse(localStorage.getItem('saveHistory') ?? 'true')\r\n    );\r\n    const [apiKeys, setApiKeys] = useState(() => ({\r\n        gemini: localStorage.getItem('gemini_api_key') || '',\r\n        openrouter: localStorage.getItem('openrouter_api_key') || '',\r\n        openai: localStorage.getItem('openai_api_key') || ''\r\n    }));\r\n\r\n    // All useEffect hooks\r\n    useEffect(() => {\r\n        // Reset tone to standard when changing models if current tone isn't available\r\n        const modelTones = TONES[selectedModel] || TONES[MODELS.GEMINI];\r\n        if (!modelTones.find(tone => tone.id === selectedTone)) {\r\n            setSelectedTone('standard');\r\n        }\r\n    }, [selectedModel, selectedTone]);\r\n\r\n    useEffect(() => {\r\n        // Load history based on the current saveHistory setting\r\n        setHistory(loadHistory(saveHistory));\r\n        setSavedTranslations(loadSavedTranslations());\r\n    }, [saveHistory]); // Add saveHistory as a dependency\r\n\r\n    useEffect(() => {\r\n        const savedFixedSize = localStorage.getItem('isFixedSize');\r\n        if (savedFixedSize !== null) {\r\n            setIsFixedSize(JSON.parse(savedFixedSize));\r\n        }\r\n    }, []);\r\n\r\n        const handleApiKeysChange = (newApiKeys) => {\r\n        setApiKeys(newApiKeys);\r\n        localStorage.setItem('gemini_api_key', newApiKeys.gemini);\r\n        localStorage.setItem('openrouter_api_key', newApiKeys.openrouter);\r\n        localStorage.setItem('openai_api_key', newApiKeys.openai);\r\n    };\r\n\r\n    // Add the handleToggleFixedSize function\r\n    const handleToggleFixedSize = () => {\r\n        setIsFixedSize(prev => {\r\n            const newValue = !prev;\r\n            localStorage.setItem('isFixedSize', JSON.stringify(newValue));\r\n            return newValue;\r\n        });\r\n    };\r\n\r\n    // Version check function\r\n    const isVersionSecure = (currentVersion, minVersion) => {\r\n        const current = currentVersion.split('.').map(Number);\r\n        const min = minVersion.split('.').map(Number);\r\n\r\n        for (let i = 0; i < 3; i++) {\r\n            if (current[i] > min[i]) return true;\r\n            if (current[i] < min[i]) return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    // Version security check after all hooks\r\n    if (!isVersionSecure(APP_VERSION, MIN_SECURE_VERSION)) {\r\n        localStorage.removeItem('translator_auth');\r\n        return <Navigate to=\"/\" replace />;\r\n    }\r\n\r\n    const translateWithGemini = async (text, previousTranslations = [], signal) => {\r\n        if (!apiKeys.gemini) {\r\n            throw new Error('Please enter your Gemini API key in settings');\r\n        }\r\n        try {\r\n            // Get base instructions\r\n            const basePreInstruction = modelInstructions[selectedModel]['pre-instruction'];\r\n            const postInstruction = modelInstructions[selectedModel]['post-instruction'];\r\n            const toneInstructions = getToneInstructions(selectedTone, modelInstructions, selectedModel);\r\n\r\n            // Get language settings\r\n            const sourceLanguage = LANGUAGE_NAMES[sourceLang] || sourceLang;\r\n            const targetLanguage = LANGUAGE_NAMES[targetLang] || targetLang;\r\n\r\n            // Construct the prompt\r\n            let prompt = `Instructions:\\n${basePreInstruction}\\n\\n`;\r\n\r\n            // Add Language settings\r\n            prompt += `Language:\\n`;\r\n            if (sourceLang === 'auto') {\r\n                prompt += `- Detect source language and translate to ${targetLanguage}\\n\\n`;\r\n            } else {\r\n                prompt += `- From: ${sourceLanguage}\\n- To: ${targetLanguage}\\n\\n`;\r\n            }\r\n\r\n            // Add Tone settings\r\n            prompt += `Tone:\\n${toneInstructions.instruction}\\n\\n`;\r\n\r\n            // Add text to translate\r\n            prompt += `Text to be translated:\\n${text}\\n\\n`;\r\n\r\n            // Add previous translations if any\r\n            if (previousTranslations.length > 0) {\r\n                prompt += \"Previous translations to avoid repeating:\\n\";\r\n                previousTranslations.forEach((trans, index) => {\r\n                    prompt += `${index + 1}: ${trans.text}\\n`;\r\n                });\r\n                prompt += \"\\nNote: Provide a fresh translation different from the above versions.\\n\\n\";\r\n            }\r\n\r\n            // Add post instructions\r\n            prompt += postInstruction;\r\n\r\n            // Set request log\r\n            const requestBody = {\r\n                contents: [{\r\n                    parts: [{ text: prompt }]\r\n                }],\r\n            };\r\n\r\n            setRequestLog({\r\n                model: \"gemini-1.5-flash\",\r\n                messages: [{ content: prompt }],\r\n                endpoint: \"https://generativelanguage.googleapis.com/v1/models/gemini-1.5-flash:generateContent\",\r\n                headers: {\r\n                    'Content-Type': 'application/json'\r\n                },\r\n            });\r\n\r\n            const response = await fetch(\r\n                `https://generativelanguage.googleapis.com/v1beta/models/gemini-1.5-flash:generateContent?key=${apiKeys.gemini}`,\r\n                {\r\n                    method: 'POST',\r\n                    signal, // Add AbortController signal\r\n                    headers: {\r\n                        'Content-Type': 'application/json',\r\n                    },\r\n                    body: JSON.stringify(requestBody)\r\n                }\r\n            );\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            if (!data.candidates?.[0]?.content?.parts?.[0]?.text) {\r\n                throw new Error('Invalid response structure from Gemini API');\r\n            }\r\n\r\n            return data.candidates[0].content.parts[0].text;\r\n\r\n        } catch (error) {\r\n            if (error.name === 'AbortError') {\r\n                throw error; // AbortError를 그대로 전파\r\n            }\r\n            throw error;\r\n        }\r\n    };\r\n\r\n    const translateWithOpenRouter = async (text, modelId, previousTranslations = [], signal) => {\r\n        if (!apiKeys.openrouter) {\r\n            throw new Error('Please enter your OpenRouter API key in settings');\r\n        }\r\n        const modelUrl = modelId === MODELS.ANTHROPIC\r\n            ? 'anthropic/claude-3-haiku'\r\n            : 'cohere/command-r-08-2024';\r\n\r\n        // Get base instructions\r\n        const basePreInstruction = modelInstructions[selectedModel]['pre-instruction'];\r\n        const postInstruction = modelInstructions[selectedModel]['post-instruction'];\r\n        const toneInstructions = getToneInstructions(selectedTone, modelInstructions, selectedModel);\r\n\r\n        // Get language settings\r\n        const sourceLanguage = LANGUAGE_NAMES[sourceLang] || sourceLang;\r\n        const targetLanguage = LANGUAGE_NAMES[targetLang] || targetLang;\r\n\r\n        // Construct the prompt for system message\r\n        let prompt = `Instructions:\\n${basePreInstruction}\\n\\n`;\r\n\r\n        // Add Language settings\r\n        prompt += `Language:\\n`;\r\n        if (sourceLang === 'auto') {\r\n            prompt += `- Detect source language and translate to ${targetLanguage}\\n\\n`;\r\n        } else {\r\n            prompt += `- From: ${sourceLanguage}\\n- To: ${targetLanguage}\\n\\n`;\r\n        }\r\n\r\n        // Add Tone settings\r\n        prompt += `Tone:\\n${toneInstructions.instruction}\\n\\n`;\r\n\r\n        // Create user message with the text to translate\r\n        prompt += `Text to be translated:\\n${text}\\n\\n`;\r\n\r\n        // Add previous translations if any\r\n        if (previousTranslations.length > 0) {\r\n            prompt += \"Previous translations to avoid repeating:\\n\";\r\n            previousTranslations.forEach((trans, index) => {\r\n                prompt += `${index + 1}: ${trans.text}\\n`;\r\n            });\r\n            prompt += \"\\nNote: Provide a fresh translation different from the above versions.\\n\\n\";\r\n        }\r\n\r\n        const requestBody = {\r\n            model: modelUrl,\r\n            messages: [\r\n                { role: \"system\", content: prompt },\r\n                { role: \"system\", content: postInstruction }\r\n            ],\r\n            endpoint: \"https://openrouter.ai/api/v1/chat/completions\",\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'HTTP-Referer': window.location.origin,\r\n                'X-Title': 'Translator App'\r\n            },\r\n        };\r\n        setRequestLog(requestBody);\r\n\r\n        try {\r\n            const response = await fetch('https://openrouter.ai/api/v1/chat/completions', {\r\n                method: 'POST',\r\n                signal, // AbortController signal 추가\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${apiKeys.openrouter}`,\r\n                    'HTTP-Referer': window.location.origin,\r\n                    'X-Title': 'Translator App'\r\n                },\r\n                body: JSON.stringify({\r\n                    model: modelUrl,\r\n                    messages: [\r\n                        { role: \"system\", content: prompt },\r\n                        { role: \"system\", content: postInstruction }\r\n                    ]\r\n                })\r\n            });\r\n\r\n            if (!response.ok) throw new Error(`HTTP error! status: ${response.status}`);\r\n            const data = await response.json();\r\n            return data.choices[0]?.message?.content;\r\n        } catch (error) {\r\n            if (error.name === 'AbortError') {\r\n                throw error; // AbortError를 그대로 전파\r\n            }\r\n            throw new Error(error.message === 'Unauthorized'\r\n                ? 'Invalid API key. Please check your environment variables.'\r\n                : `Translation error: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    const translateWithOpenAI = async (text, previousTranslations = [], signal) => {\r\n        if (!apiKeys.openai) {\r\n            throw new Error('Please enter your OpenAI API key in settings');\r\n        }\r\n        try {\r\n            // Get base instructions\r\n            const basePreInstruction = modelInstructions[MODELS.OPENAI]['pre-instruction'];\r\n            const postInstruction = modelInstructions[MODELS.OPENAI]['post-instruction'];\r\n            const toneInstructions = getToneInstructions(selectedTone, modelInstructions, MODELS.OPENAI);\r\n\r\n            // Get language settings\r\n            const sourceLanguage = LANGUAGE_NAMES[sourceLang] || sourceLang;\r\n            const targetLanguage = LANGUAGE_NAMES[targetLang] || targetLang;\r\n\r\n            // Construct the prompt\r\n            let prompt = `Instructions:\\n${basePreInstruction}\\n\\n`;\r\n\r\n            // Add Language settings\r\n            prompt += `Language:\\n`;\r\n            if (sourceLang === 'auto') {\r\n                prompt += `- Detect source language and translate to ${targetLanguage}\\n\\n`;\r\n            } else {\r\n                prompt += `- From: ${sourceLanguage}\\n- To: ${targetLanguage}\\n\\n`;\r\n            }\r\n\r\n            // Add Tone settings\r\n            prompt += `Tone:\\n${toneInstructions.instruction}\\n\\n`;\r\n\r\n            // Add text to translate\r\n            prompt += `Text to be translated:\\n${text}\\n\\n`;\r\n\r\n            // Add previous translations if any\r\n            if (previousTranslations.length > 0) {\r\n                prompt += \"Previous translations to avoid repeating:\\n\";\r\n                previousTranslations.forEach((trans, index) => {\r\n                    prompt += `${index + 1}: ${trans.text}\\n`;\r\n                });\r\n                prompt += \"\\nNote: Provide a fresh translation different from the above versions.\\n\\n\";\r\n            }\r\n\r\n            // Add post instructions\r\n            prompt += postInstruction;\r\n\r\n            // Set request log\r\n            const requestBody = {\r\n                model: \"gpt-4o-mini-2024-07-18\",\r\n                messages: [\r\n                    { role: \"system\", content: \"You are a professional translator.\" },\r\n                    { role: \"user\", content: prompt }\r\n                ],\r\n                temperature: 0.7,\r\n                max_tokens: 2000\r\n            };\r\n            setRequestLog(requestBody);\r\n\r\n            const response = await fetch('https://api.openai.com/v1/chat/completions', {\r\n                method: 'POST',\r\n                signal, // AbortController signal 추가\r\n                headers: {\r\n                    'Content-Type': 'application/json',\r\n                    'Authorization': `Bearer ${apiKeys.openai}`\r\n                },\r\n                body: JSON.stringify({\r\n                    model: \"gpt-4o-mini-2024-07-18\",\r\n                    messages: [\r\n                        { role: \"system\", content: \"You are a professional translator.\" },\r\n                        { role: \"user\", content: prompt }\r\n                    ],\r\n                    temperature: 0.7,\r\n                    max_tokens: 2000\r\n                })\r\n            });\r\n\r\n            if (!response.ok) {\r\n                throw new Error(`HTTP error! status: ${response.status}`);\r\n            }\r\n\r\n            const data = await response.json();\r\n            return data.choices[0]?.message?.content;\r\n        } catch (error) {\r\n            if (error.name === 'AbortError') {\r\n                throw error; // AbortError를 그대로 전파\r\n            }\r\n            throw new Error(error.message === 'Unauthorized'\r\n                ? 'Invalid OpenAI API key. Please check your environment variables.'\r\n                : `Translation error: ${error.message}`);\r\n        }\r\n    };\r\n\r\n    const validateLanguageSupport = (sourceLang, targetLang) => {\r\n        const supportedLanguages = ['auto', 'en', 'fr', 'es', 'it', 'de', 'pt', 'ja', 'ko', 'zh', 'ar'];\r\n\r\n        if (sourceLang !== 'auto' && !supportedLanguages.includes(sourceLang)) {\r\n            throw new Error(`Unsupported source language: ${sourceLang}`);\r\n        }\r\n\r\n        if (!supportedLanguages.includes(targetLang)) {\r\n            throw new Error(`Unsupported target language: ${targetLang}`);\r\n        }\r\n    }\r\n\r\n    const deleteHistoryItem = (index) => {\r\n        const newHistory = [...history];\r\n        newHistory.splice(index, 1);\r\n        setHistory(newHistory);\r\n        saveHistoryToStorage(newHistory, saveHistory);\r\n    };\r\n\r\n    const clearAllHistory = () => {\r\n        setHistory([]);\r\n        saveHistoryToStorage([], saveHistory);\r\n    };\r\n\r\n    const handleSaveTranslation = () => {\r\n        if (!inputText || !translatedText) return;\r\n\r\n        const newSavedTranslation = {\r\n            inputText,\r\n            translatedText,\r\n            model: selectedModel,\r\n            timestamp: new Date().toISOString()\r\n        };\r\n\r\n        const updatedSavedTranslations = [\r\n            newSavedTranslation,\r\n            ...savedTranslations\r\n        ].slice(0, MAX_SAVED_TRANSLATIONS);\r\n\r\n        setSavedTranslations(updatedSavedTranslations);\r\n        saveSavedTranslations(updatedSavedTranslations);\r\n\r\n        // Show success feedback\r\n        setSaveSuccess(true);\r\n        setTimeout(() => setSaveSuccess(false), 2000);\r\n    };\r\n\r\n    const deleteSavedTranslation = (index) => {\r\n        const newSavedTranslations = [...savedTranslations];\r\n        newSavedTranslations.splice(index, 1);\r\n        setSavedTranslations(newSavedTranslations);\r\n        saveSavedTranslations(newSavedTranslations);\r\n    };\r\n\r\n    const clearAllSavedTranslations = () => {\r\n        setSavedTranslations([]);\r\n        saveSavedTranslations([]);\r\n    };\r\n\r\n    // Get current translation text\r\n    const translatedText = translations[currentIndex]?.text || '';\r\n\r\n    // Handle translation navigation\r\n    const handlePrevious = () => {\r\n        if (currentIndex > 0) {\r\n            setCurrentIndex(currentIndex - 1);\r\n        }\r\n    };\r\n\r\n    const handleNext = async () => {\r\n        if (currentIndex < translations.length - 1) {\r\n            setCurrentIndex(currentIndex + 1);\r\n        } else {\r\n            // Request new translation when at the end\r\n            await handleTranslate(true);\r\n        }\r\n    };\r\n\r\n    const handleTranslate = async (isAdditional = false) => {\r\n        try {\r\n            setIsLoading(true);\r\n            setError('');\r\n            validateLanguageSupport(sourceLang, targetLang);\r\n\r\n            // Create AbortController for cancellation\r\n            const controller = new AbortController();\r\n            setTranslationController(controller);\r\n\r\n            let translatedResult;\r\n            try {\r\n                if (isAdditional) {\r\n                    switch (selectedModel) {\r\n                        case MODELS.GEMINI:\r\n                            translatedResult = await translateWithGemini(inputText, translations, controller.signal);\r\n                            break;\r\n                        case MODELS.COMMAND:\r\n                            translatedResult = await translateWithOpenRouter(inputText, selectedModel, translations, controller.signal);\r\n                            break;\r\n                        case MODELS.ANTHROPIC:\r\n                            translatedResult = await translateWithOpenRouter(inputText, selectedModel, translations, controller.signal);\r\n                            break;\r\n                        case MODELS.OPENAI:\r\n                            translatedResult = await translateWithOpenAI(inputText, translations, controller.signal);\r\n                            break;\r\n                        default:\r\n                            throw new Error('Invalid model selected');\r\n                    }\r\n                } else {\r\n                    switch (selectedModel) {\r\n                        case MODELS.GEMINI:\r\n                            translatedResult = await translateWithGemini(inputText, [], controller.signal);\r\n                            break;\r\n                        case MODELS.COMMAND:\r\n                            translatedResult = await translateWithOpenRouter(inputText, selectedModel, [], controller.signal);\r\n                            break;\r\n                        case MODELS.ANTHROPIC:\r\n                            translatedResult = await translateWithOpenRouter(inputText, selectedModel, [], controller.signal);\r\n                            break;\r\n                        case MODELS.OPENAI:\r\n                            translatedResult = await translateWithOpenAI(inputText, [], controller.signal);\r\n                            break;\r\n                        default:\r\n                            throw new Error('Invalid model selected');\r\n                    }\r\n                }\r\n\r\n                if (!translatedResult) throw new Error('No translation result.');\r\n\r\n                if (isAdditional) {\r\n                    setTranslations(prev => [...prev, { text: translatedResult, timestamp: new Date() }]);\r\n                    setCurrentIndex(translations.length);\r\n                } else {\r\n                    setTranslations([{ text: translatedResult, timestamp: new Date() }]);\r\n                    setCurrentIndex(0);\r\n                }\r\n\r\n                // Inside handleTranslate, modify the history section:\r\n                if (saveHistory) {\r\n                    const newHistory = [\r\n                        {\r\n                            inputText,\r\n                            translatedText: translatedResult,\r\n                            model: selectedModel,\r\n                            timestamp: new Date().toISOString()\r\n                        },\r\n                        ...history\r\n                    ].slice(0, MAX_HISTORY_ITEMS);\r\n\r\n                    setHistory(newHistory);\r\n                    saveHistoryToStorage(newHistory, saveHistory);\r\n                }\r\n\r\n            } catch (err) {\r\n                throw err;\r\n            }\r\n\r\n        } catch (err) {\r\n            if (err.name === 'AbortError') {\r\n                // Don't set error for cancelled translations\r\n                return;\r\n            } else if (err.message.includes('SAFETY')) {\r\n                setShowSafetyWarning(true);\r\n            } else {\r\n                setError(err.message);\r\n            }\r\n        } finally {\r\n            setIsLoading(false);\r\n            setTranslationController(null);\r\n            setCopySuccess(false);\r\n        }\r\n    };\r\n\r\n    const handleCancelTranslation = () => {\r\n        if (translationController) {\r\n            translationController.abort();\r\n        }\r\n    };\r\n\r\n    const handleVoiceChange = (newVoices) => {\r\n        setSelectedVoices(newVoices);\r\n        saveVoiceSettings(newVoices);\r\n    };\r\n\r\n    // Handle touch events for swipe\r\n    const minSwipeDistance = 50;\r\n\r\n    const onTouchStart = (e) => {\r\n        setTouchEnd(null);\r\n        setTouchStart(e.targetTouches[0].clientX);\r\n    };\r\n\r\n    const onTouchMove = (e) => {\r\n        setTouchEnd(e.targetTouches[0].clientX);\r\n    };\r\n\r\n    const onTouchEnd = () => {\r\n        if (!touchStart || !touchEnd) return;\r\n\r\n        const distance = touchStart - touchEnd;\r\n        const isLeftSwipe = distance > minSwipeDistance;\r\n        const isRightSwipe = distance < -minSwipeDistance;\r\n\r\n        if (isLeftSwipe) {\r\n            handleNext();\r\n        }\r\n        if (isRightSwipe) {\r\n            handlePrevious();\r\n        }\r\n    };\r\n\r\n    // Handle clear\r\n    const handleClear = () => {\r\n        setInputText('');\r\n        setTranslations([]);\r\n        setCurrentIndex(0);\r\n        setCopySuccess(false);\r\n        setError('');\r\n    };\r\n\r\n    const handleMaxLengthChange = (newMaxLength) => {\r\n        setMaxLength(newMaxLength);\r\n        localStorage.setItem('maxInputLength', newMaxLength.toString());\r\n    };\r\n\r\n    const baseUrl = process.env.PUBLIC_URL || '/';\r\n\r\n    return (\r\n        <div className=\"w-full min-h-screen bg-gray-50\">\r\n            <Helmet>\r\n                <title>Hoochoo Translator</title>\r\n                <meta name=\"description\" content=\"Multi-language translation application\" />\r\n            </Helmet>\r\n            {/* Modals and Dialogs */}\r\n            <Sidebar\r\n                isOpen={isSidebarOpen}\r\n                onClose={() => setIsSidebarOpen(false)}\r\n                onOpenHistory={() => setIsHistoryOpen(true)}\r\n                onOpenInstructions={() => setIsInstructionsOpen(true)}\r\n                onOpenSaved={() => setIsSavedOpen(true)}\r\n                onOpenRequestLog={() => setIsRequestLogOpen(true)}\r\n                onOpenVoiceSettings={() => setIsVoiceSettingsOpen(true)}\r\n                onOpenSettings={() => setIsSettingsOpen(true)}\r\n                isFixedSize={isFixedSize}  // Add this prop\r\n                onToggleFixedSize={handleToggleFixedSize}  // Add this prop\r\n            />\r\n\r\n            <HistoryPanel\r\n                isOpen={isHistoryOpen}\r\n                onClose={() => setIsHistoryOpen(false)}\r\n                history={history}\r\n                onSelectHistory={(item) => {\r\n                    setInputText(item.inputText);\r\n                    setTranslations([{ text: item.translatedText, timestamp: new Date() }]);\r\n                    setCurrentIndex(0);\r\n                    setIsHistoryOpen(false);\r\n                }}\r\n                onDeleteHistory={deleteHistoryItem}\r\n                onClearHistory={clearAllHistory}\r\n            />\r\n\r\n            <SavedTranslationsDialog\r\n                isOpen={isSavedOpen}\r\n                onClose={() => setIsSavedOpen(false)}\r\n                savedTranslations={savedTranslations}\r\n                onSelectSaved={(item) => {\r\n                    setInputText(item.inputText);\r\n                    setTranslations([{ text: item.translatedText, timestamp: new Date() }]);\r\n                    setCurrentIndex(0);\r\n                }}\r\n                onDeleteSaved={deleteSavedTranslation}\r\n                onClearAll={clearAllSavedTranslations}\r\n            />\r\n\r\n            <InstructionsModal\r\n                isOpen={isInstructionsOpen}\r\n                onClose={() => setIsInstructionsOpen(false)}\r\n                modelInstructions={modelInstructions}\r\n                selectedModel={selectedModel}\r\n                setModelInstructions={setModelInstructions}\r\n                selectedTone={selectedTone}\r\n                className=\"w-full max-w-2xl max-h-[90vh] flex flex-col\"\r\n            />\r\n\r\n            <VoiceSettingsModal\r\n                isOpen={isVoiceSettingsOpen}\r\n                onClose={() => setIsVoiceSettingsOpen(false)}\r\n                selectedVoices={selectedVoices}\r\n                onVoiceChange={handleVoiceChange}\r\n            />\r\n\r\n            <RequestLogViewer\r\n                isOpen={isRequestLogOpen}\r\n                onClose={() => setIsRequestLogOpen(false)}\r\n                requestLog={requestLog}\r\n            />\r\n\r\n            <SafetyWarningDialog\r\n                isOpen={showSafetyWarning}\r\n                onClose={() => setShowSafetyWarning(false)}\r\n            />\r\n\r\n            <SettingsDialog\r\n                isOpen={isSettingsOpen}\r\n                onClose={() => setIsSettingsOpen(false)}\r\n                maxLength={maxLength}\r\n                onMaxLengthChange={handleMaxLengthChange}\r\n                saveHistory={saveHistory}\r\n                onSaveHistoryChange={(newValue) => {\r\n                    setSaveHistory(newValue);\r\n                    localStorage.setItem('saveHistory', JSON.stringify(newValue));\r\n                    if (!newValue) {\r\n                        setHistory([]);\r\n                        localStorage.removeItem('translationHistory');\r\n                    }\r\n                }}\r\n                apiKeys={apiKeys}\r\n                onApiKeysChange={handleApiKeysChange}\r\n            />\r\n\r\n            {/* Header */}\r\n            <div className=\"w-full border-b bg-white\">\r\n                <div className=\"max-w-7xl mx-auto\">\r\n                    <div className=\"flex items-center p-4 space-x-4\">\r\n                        <button\r\n                            onClick={() => setIsSidebarOpen(true)}\r\n                            className=\"text-gray-600 hover:text-gray-800 transition-colors\"\r\n                            title=\"Menu\"\r\n                        >\r\n                            <MenuIcon className=\"h-6 w-6\" />\r\n                        </button>\r\n\r\n                        <a\r\n                            href={baseUrl}\r\n                            className=\"text-xl font-semibold text-gray-800 hover:text-gray-600 transition-colors cursor-pointer\"\r\n                        >\r\n                            Hoochoo Translator\r\n                        </a>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            {/* Main content */}\r\n            <div className=\"max-w-7xl mx-auto p-4\">\r\n                <div className=\"space-y-1\">\r\n                    {/* Model selector */}\r\n                    <div className=\"w-full\">\r\n                        <select\r\n                            value={selectedModel}\r\n                            onChange={(e) => {\r\n                                setSelectedModel(e.target.value);\r\n                                setTranslations([]);\r\n                                setCurrentIndex(0);\r\n                            }}\r\n                            className=\"w-[200px] p-2 border rounded-md focus:ring-2 focus:ring-gray-500\"\r\n                        >\r\n                            {AVAILABLE_MODELS.map((model) => (\r\n                                <option key={model.id} value={model.id}>\r\n                                    {model.name}\r\n                                </option>\r\n                            ))}\r\n                        </select>\r\n                    </div>\r\n\r\n                    {/* Language selector */}\r\n                    <div className=\"mt-2\"> {/* Added wrapper with smaller margin */}\r\n                        <LanguageSelector\r\n                            sourceLang={sourceLang}\r\n                            targetLang={targetLang}\r\n                            onSourceChange={setSourceLang}\r\n                            onTargetChange={setTargetLang}\r\n                            inputText={inputText}\r\n                            translatedText={translatedText}\r\n                            onInputTextChange={setInputText}\r\n                            onTranslatedTextChange={(text) => {\r\n                                setTranslations([{ text, timestamp: new Date() }]);\r\n                                setCurrentIndex(0);\r\n                            }}\r\n                            onResetTranslations={() => {\r\n                                setTranslations([]);\r\n                                setCurrentIndex(0);\r\n                            }}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Tone selector */}\r\n                    <div className=\"mt-2 mb-2\"> {/* Added wrapper with smaller margins */}\r\n                        <ToneSelector\r\n                            selectedTone={selectedTone}\r\n                            onToneChange={setSelectedTone}\r\n                            selectedModel={selectedModel}\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Text areas */}\r\n                    <div className=\"flex flex-col md:flex-row gap-2 md:gap-6 mb-6\">\r\n                        <TextArea\r\n                            value={inputText}\r\n                            onChange={(e) => setInputText(e.target.value)}\r\n                            placeholder=\"Enter text...\"\r\n                            showSpeaker={true}\r\n                            maxLength={maxLength}\r\n                            onClear={() => handleClear()}\r\n                            language={sourceLang}\r\n                            selectedVoice={selectedVoices[sourceLang]}\r\n                            isFixedSize={isFixedSize}  // Add this prop\r\n                        />\r\n\r\n                        <TextArea\r\n                            value={translatedText}\r\n                            isOutput={true}\r\n                            onChange={(e) => {\r\n                                const newText = e.target.value;\r\n                                const updatedTranslations = translations.map((item, index) =>\r\n                                    index === currentIndex\r\n                                        ? { ...item, text: newText }\r\n                                        : item\r\n                                );\r\n                                setTranslations(updatedTranslations);\r\n                            }}\r\n                            placeholder=\"Translation will appear here...\"\r\n                            showSpeaker={true}\r\n                            onTouchStart={onTouchStart}\r\n                            onTouchMove={onTouchMove}\r\n                            onTouchEnd={onTouchEnd}\r\n                            translations={translations}\r\n                            currentIndex={currentIndex}\r\n                            onPrevious={handlePrevious}\r\n                            onNext={handleNext}\r\n                            onClear={() => {\r\n                                setTranslations([]);\r\n                                setCurrentIndex(0);\r\n                            }}\r\n                            language={targetLang}\r\n                            selectedVoice={selectedVoices[targetLang]}\r\n                            isFixedSize={isFixedSize}  // Add this prop\r\n                        />\r\n                    </div>\r\n\r\n                    {/* Error message */}\r\n                    {error && <Alert>{error}</Alert>}\r\n\r\n                    {/* Action buttons */}\r\n                    {/* Action buttons */}\r\n                    <div className=\"flex flex-col sm:flex-row justify-center gap-3\">\r\n                        <ActionButton\r\n                            type=\"translate\"\r\n                            onClick={() => handleTranslate(false)}\r\n                            disabled={!inputText}\r\n                            isLoading={isLoading}\r\n                            onCancel={handleCancelTranslation}\r\n                        />\r\n\r\n                        {translatedText && (\r\n                            <>\r\n                                <ActionButton\r\n                                    type=\"copy\"\r\n                                    onClick={async () => {\r\n                                        try {\r\n                                            await navigator.clipboard.writeText(translatedText);\r\n                                            setCopySuccess(true);\r\n                                            setTimeout(() => setCopySuccess(false), 2000);\r\n                                        } catch (err) {\r\n                                            console.error('Failed to copy text:', err);\r\n                                        }\r\n                                    }}\r\n                                    isActive={copySuccess}\r\n                                />\r\n\r\n                                <ActionButton\r\n                                    type=\"save\"\r\n                                    onClick={handleSaveTranslation}\r\n                                    isActive={saveSuccess}\r\n                                />\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\nexport default TranslatorApp;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}